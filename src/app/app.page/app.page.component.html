<div class="main-content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12 col-sm-12">
                <div class="card">
                    <div class="card-content">
                        <div class="nav-tabs-navigation">
                            <div class="nav-tabs-wrapper">
                                <ul class="nav nav-tabs" data-tabs="tabs" id="tabs">
                                    <li class="active">
                                        <a data-toggle="tab" href="#livestreams" i18n="live stream|Live Streams tab header that lists live stream@@liveStreamTabHeader">Live Streams</a>
                                    </li>
                                    <li>
                                        <a data-toggle="tab" href="#vod" i18n="VoD|Vod tab header that lists vod@@vodTabHeader">VoD</a>
                                    </li>
                                    <li>
                                        <a data-toggle="tab" href="#settings" i18n="@@settingsTabHeader">Settings</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-content text-center" id="my-tab-content">


                    <div class="tab-pane active" id="livestreams">

                        <div class="card">
                            <div class="card-content">

                                <div>

                                    <div class="dropdown text-right" style="float: right">
                                        <button class="btn btn-fill btn-success" data-toggle="dropdown" i18n="@@newLiveStreamButton" role="button">New Live Stream
                                            <span class="caret"></span>
                                        </button>

                                        <ul class="dropdown-menu dropdown-menu-right">

                                            <li>
                                                <a (click)="newLiveStream()" role="button">Live Stream</a>
                                            </li>
                                            <li>
                                                <a (click)="newIPCamera()" role="button">IP Camera</a>
                                            </li>


                                            <li>
                                                <a (click)="newStreamSource()" role="button">Stream Source</a>
                                            </li>


                                        </ul>

                                    </div>

                                    <br>
                                    <br>
                                </div>

                                <div *ngIf="newLiveStreamActive" class="card">

                                    <form #f="ngForm" (ngSubmit)="createLiveStream(f.valid)" method="post" validate>
                                        <div class="card-header">
                                            <h4 class="card-title text-left" i18n="@@newLiveStreamCardTitle">
                                                New Live Stream
                                            </h4>
                                        </div>
                                        <div class="card-content">
                                            <div class="form-group text-left">
                                                <label i18n="@@newLiveStreamName">Name</label>
                                                <input #broadcastName="ngModel" [(ngModel)]="liveBroadcast.name" class="form-control" i18n-placeholder="@@stream_name_place_holder" minlength="4" name="broadcastName"
                                                       placeholder="Stream name" required
                                                       type="text">
                                                <small [hidden]="broadcastName.valid || (!f.submitted)" class="text-danger" i18n="@@broadcastNameIsRequired">
                                                    Stream name should be at least 4 characters.
                                                </small>
                                                <small *ngIf="streamNameEmpty" class="text-danger">
                                                    Stream name should not be empty.
                                                </small>
                                            </div>

                                            <div *ngIf="videoServiceEndpoints.length>0" class="form-group text-left">
                                                <label  class="col-sm-12" i18n="@@newLiveStreamSocialShare" style="padding-left:0px">Share</label>
                                                <ng-container *ngFor="let endpoint of videoServiceEndpoints; let i = index">

                                                    <div class="col-sm-4 text-left checkbox vcenter"style="margin-top:5px">

                                                        <label [for]="endpoint.id">
                                                            <ng-container [ngSwitch]="endpoint.serviceName">
                                                                <ng-container *ngSwitchCase="'facebook'">
                                                                    <i class="ti-facebook"
                                                                       style="color:#3b5998">&nbsp;</i>
                                                                </ng-container>
                                                                <ng-container *ngSwitchCase="'youtube'">
                                                                    <i class="ti-youtube"
                                                                       style="color:#e52d27">&nbsp;</i>
                                                                </ng-container>
                                                                <ng-container *ngSwitchCase="'periscope'">
                                                                    <i class="ti-twitter-alt" style="color:#55acee">&nbsp;</i>
                                                                </ng-container>
                                                            </ng-container>
                                                            {{endpoint.accountName}}
                                                        </label>

                                                        <input [(ngModel)]="shareEndpoint[i]" [id]="endpoint.id" [name]="endpoint.id" type="checkbox">


                                                    </div>
                                                </ng-container>
                                            </div>

                                            <div class="form-group text-center">

                                                <button [disabled]='newLiveStreamCreating' class="btn btn-fill btn-success" i18n="@@newLiveStreamCreateButton" type="submit">
                                                    <i *ngIf="newLiveStreamCreating" aria-hidden="true" class="fa fa-spinner fa-pulse fa-1x fa-fw"></i>Create</button>

                                                <button (click)="cancelNewLiveStream()" class="btn btn-simple" i18n="@@newLiveStreamCancelButton" type="button">Cancel</button>
                                            </div>

                                        </div>

                                    </form>
                                </div>

                                <div *ngIf="newIPCameraActive" class="card">

                                    <form #f="ngForm" (ngSubmit)="addIPCamera(f.valid)" method="post" validate>
                                        <div class="card-header">
                                            <h4 class="card-title text-left" i18n="@@newIPCameraTitle">
                                                New IP Camera
                                            </h4>
                                        </div>
                                        <div class="card-content">
                                            <div class="form-group text-left">
                                                <label i18n="@@newLiveStreamName">Name</label>
                                                <input #broadcastName="ngModel" [(ngModel)]="liveBroadcast.name" class="form-control" minlength="4"
                                                       name="broadcastName" placeholder="Camera Name"
                                                       required
                                                       type="text">
                                                <small [hidden]="broadcastName.valid || (!f.submitted)" class="text-danger" i18n="@@broadcastNameIsRequired">
                                                    Camera name should be at least 4 characters.
                                                </small>
                                                <small *ngIf="streamNameEmpty" class="text-danger">
                                                    Stream name should not be empty.
                                                </small>
                                            </div>

                                            <div class="form-group text-left">
                                                <label i18n="@@newOnvifIPUrl">Onvif IP URL</label>
                                                <button (click)="startDiscover()"
                                                        class="btn btn-success btn-simple btn-magnify btn-xs "
                                                        type="button"> discover
                                                </button>
                                                <i *ngIf="discoveryStarted" aria-hidden="true"
                                                   class="fa fa-spinner fa-pulse fa-1x fa-fw"></i>
                                                <small *ngIf="noCamWarning" class="text-danger">
                                                    No unregistered camera found, write camera URL manually!
                                                </small>
                                                <input #onvifURL="ngModel" [(ngModel)]="liveBroadcast.ipAddr"
                                                       class="form-control"
                                                       i18n-placeholder="@@onvifUrl_place_holder" name="onvifURL"
                                                       placeholder="Onvif Url" type="text">
                                                <small [hidden]="onvifURL.valid || (!f.submitted)" class="text-danger" i18n="@@broadcastNameIsRequired">
                                                    URL should be at least 4 characters.
                                                </small>

                                            </div>

                                            <div class="form-group text-left">
                                                <label i18n="@@newLiveStreamName">User Name</label>
                                                <input #username="ngModel" [(ngModel)]="liveBroadcast.username"
                                                       class="form-control"
                                                       i18n-placeholder="@@username_place_holder" name="username"
                                                       placeholder="User Name" type="text">

                                            </div>

                                            <div class="form-group text-left">
                                                <label i18n="@@newLiveStreamName">Password</label>
                                                <input #password="ngModel" [(ngModel)]="liveBroadcast.password"
                                                       class="form-control" i18n-placeholder="@@password_place_holder"
                                                       name="password"
                                                       placeholder="Password" type="text">

                                            </div>


                                            <div class="form-group text-center">

                                                <button [disabled]='newIPCameraAdding' class="btn btn-fill btn-success" i18n="@@newLiveStreamCreateButton" type="submit">
                                                    <i *ngIf="newIPCameraAdding" aria-hidden="true" class="fa fa-spinner fa-pulse fa-1x fa-fw"></i>Add</button>

                                                <button (click)="cancelNewIPCamera()" class="btn btn-simple" i18n="@@newLiveStreamCancelButton" type="button">Cancel</button>
                                            </div>

                                        </div>

                                    </form>
                                </div>




                                <div *ngIf="newStreamSourceActive" class="card">

                                    <form #f="ngForm" (ngSubmit)="addStreamSource(f.valid)" method="post" validate>
                                        <div class="card-header">
                                            <h4 class="card-title text-left" i18n="@@newLiveStreamCardTitle">
                                                New Stream Source
                                            </h4>
                                        </div>
                                        <div class="card-content">
                                            <div class="form-group text-left">
                                                <label i18n="@@newLiveStreamName">Name</label>
                                                <input #broadcastName="ngModel" [(ngModel)]="liveBroadcast.name" class="form-control" i18n-placeholder="@@stream_name_place_holder"
                                                       minlength="4"
                                                       name="broadcastName"
                                                       placeholder="Stream name" required
                                                       type="text">
                                                <small [hidden]="broadcastName.valid || (!f.submitted)" class="text-danger" i18n="@@broadcastNameIsRequired">
                                                    Stream name should be at least 4 characters.
                                                </small>

                                                <small *ngIf="streamNameEmpty" class="text-danger">
                                                    Stream name should not be empty.
                                                </small>
                                            </div>


                                            <div class="form-group text-left">
                                                <label i18n="@@newLiveStreamUrl">Stream URL</label>
                                                <input #broadcasturl="ngModel" [(ngModel)]="liveBroadcast.streamUrl" class="form-control" i18n-placeholder="@@stream_name_place_holder"
                                                       minlength="4"
                                                       name="broadcasturl"
                                                       placeholder="Stream Url" required
                                                       type="text">
                                                <small [hidden]="broadcasturl.valid || (!f.submitted)" class="text-danger" i18n="@@broadcastNameIsRequired">
                                                    Stream URL is not valid
                                                </small>
                                                <small *ngIf="!streamUrlValid" class="text-danger">
                                                    Please write a valid stream URL
                                                </small>
                                            </div>

                                            <div *ngIf="videoServiceEndpoints.length>0" class="form-group text-left">
                                                <label  class="col-sm-12" i18n="@@newLiveStreamSocialShare" style="padding-left:0px">Share</label>
                                                <ng-container *ngFor="let endpoint of videoServiceEndpoints; let i = index">

                                                    <div class="col-sm-4 text-left checkbox vcenter"style="margin-top:5px">

                                                        <label [for]="endpoint.id">
                                                            <ng-container [ngSwitch]="endpoint.serviceName">
                                                                <ng-container *ngSwitchCase="'facebook'">
                                                                    <i class="ti-facebook"
                                                                       style="color:#3b5998">&nbsp;</i>
                                                                </ng-container>
                                                                <ng-container *ngSwitchCase="'youtube'">
                                                                    <i class="ti-youtube"
                                                                       style="color:#e52d27">&nbsp;</i>
                                                                </ng-container>
                                                                <ng-container *ngSwitchCase="'periscope'">
                                                                    <i class="ti-twitter-alt" style="color:#55acee">&nbsp;</i>
                                                                </ng-container>
                                                            </ng-container>
                                                            {{endpoint.accountName}}
                                                        </label>

                                                        <input [(ngModel)]="shareEndpoint[i]" [id]="endpoint.id" [name]="endpoint.id" type="checkbox">


                                                    </div>
                                                </ng-container>
                                            </div>

                                            <div class="form-group text-center">

                                                <button [disabled]='newStreamSourceWarn' class="btn btn-fill btn-success" i18n="@@newLiveStreamCreateButton" type="submit">
                                                    <i *ngIf="newStreamSourceAdding" aria-hidden="true" class="fa fa-spinner fa-pulse fa-1x fa-fw"></i>Create</button>

                                                <button (click)="cancelStreamSource()" class="btn btn-simple" i18n="@@newLiveStreamCancelButton" type="button">Cancel</button>
                                            </div>

                                        </div>

                                    </form>
                                </div>

                                <br>

                                <div *ngIf="broadcastTableData.dataRows.length>0"
                                     style="display: flex; justify-content: flex-end">

                                    <div class="mat-header">

                                        <input (keyup)="applyFilter($event.target.value)" placeholder="Search">

                                    </div>
                                    <div>
                                        <button (click)="switchToListView()" *ngIf="isGridView" class="btn">
                                            <i class="fa fa-bars"></i> List
                                        </button>
                                        <button (click)="switchToGridView()" *ngIf="!isGridView" class="btn">
                                            <i class="fa fa-th-large"></i> Grid
                                        </button>
                                    </div>

                                </div>


                                <div *ngIf="!isGridView && broadcastTableData.dataRows.length>0" id="broadcastTable"
                                     style="text-align: left;">


                                    <div class="mat-container mat-elevation-z0">

                                        <mat-table [dataSource]="dataSource" matSort>


                                            <ng-container matColumnDef="name">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header> Stream Name </mat-header-cell>

                                                <mat-cell *matCellDef="let row">

                                                    <ng-container [ngSwitch]="row.type">
                                                        <ng-container *ngSwitchCase="'liveStream'">
                                                            <img src="/assets/img/icons/video-camera.svg"
                                                                 style="width: 10%">
                                                        </ng-container>
                                                        <ng-container *ngSwitchCase="'ipCamera'">
                                                            <img src="/assets/img/icons/cctv.svg"
                                                                 style="width: 10%">
                                                        </ng-container>
                                                        <ng-container *ngSwitchCase="'streamSource'">
                                                            <img src="/assets/img/icons/video-camera.svg"
                                                                 style="width: 10%">
                                                        </ng-container>
                                                    </ng-container>

                                                    {{row.name}}
                                                    <ng-container *ngIf="!row.name || row.name.length == 0">
                                                        {{row.streamId}}
                                                    </ng-container>


                                                </mat-cell>
                                            </ng-container>


                                            <ng-container matColumnDef="status">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Status </mat-header-cell>
                                                <mat-cell *matCellDef="let row">


                                                    <ng-container [ngSwitch]="row.status">
                                                        <ng-container *ngSwitchCase="'created'">
                                                            <i class="fa fa-circle text-muted">&nbsp;</i>Offline

                                                        </ng-container>
                                                        <ng-container *ngSwitchCase="'broadcasting'">
                                                            <ng-container [ngSwitch]="row.quality">

                                                                <ng-container *ngSwitchCase="'poor'">
                                                                    <i class="ti-pulse"
                                                                       data-toggle="tooltip"
                                                                       i18n-title
                                                                       style="color:#98000b;font-size: 1.1em"
                                                                       title="Quality: Poor"> </i>
                                                                </ng-container>
                                                                <ng-container *ngSwitchCase="'average'">
                                                                    <i class="ti-pulse"
                                                                       data-toggle="tooltip"
                                                                       i18n-title style="color:#190e98;font-size: 1.1em"
                                                                       title="Quality: Average"> </i></ng-container>
                                                                <ng-container *ngSwitchCase="'good'">
                                                                    <i class="ti-pulse"
                                                                       data-toggle="tooltip"
                                                                       i18n-title
                                                                       style="color:#199826;font-size: 1.1em"
                                                                       title="Quality: Good"> </i>
                                                                </ng-container>
                                                                Broadcasting
                                                            </ng-container>

                                                            <ng-container *ngIf="row.speed > 0">
                                                                <i data-toggle="tooltip"
                                                                   i18n-title
                                                                   title="Speed">
                                                                    {{row.speed| number : '1.2-2'}}x</i>
                                                            </ng-container>


                                                        </ng-container>
                                                        <ng-container *ngSwitchCase="'finished'">
                                                            <i *ngSwitchCase="'finished'"
                                                               class="fa fa-circle text-muted">&nbsp;</i>Offline
                                                        </ng-container>
                                                    </ng-container>

                                                </mat-cell>

                                            </ng-container>

                                            <ng-container matColumnDef="viewerCount">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header> Viewers </mat-header-cell>

                                                <mat-cell *matCellDef="let row">

                                                    <div *ngIf="row.hlsViewerCount > 0">
                                                        <i class="ti-eye " style="color:#199826; font-size: 1.1em"> </i>
                                                        HLS :  {{row.hlsViewerCount}}
                                                    </div>
                                                    <div *ngIf="row.webRTCViewerCount > 0">
                                                        <i (click)="webrtcStats(row)" class="ti-eye " style="color:#199826;font-size: 1.1em"> </i>
                                                        WebRTC :  {{row.webRTCViewerCount}}
                                                    </div>
                                                    <div *ngIf="row.rtmpViewerCount > 0">
                                                        <i class="ti-eye" style="color:#199826;font-size: 1.1em"> </i>
                                                        RTMP :   {{row.rtmpViewerCount}}
                                                    </div>

                                                    <ng-container *ngIf="row.webRTCViewerCount == 0 &&row.hlsViewerCount == 0 &&row.rtmpViewerCount == 0 " >
                                                        No viewer

                                                    </ng-container>


                                                </mat-cell>

                                            </ng-container>


                                            <ng-container matColumnDef="social_media">
                                                <mat-header-cell *matHeaderCellDef> Social Share</mat-header-cell>
                                                <mat-cell *matCellDef="let row">

                                                    <ng-container *ngFor="let endpoint of row.endPointList" class="text-center">
                                                        <ng-container [ngSwitch]="endpoint.type">
                                                            <i *ngSwitchCase="'facebook'" class="ti-facebook" style="color:#3b5998;"> </i>
                                                            <i *ngSwitchCase="'youtube'" class="ti-youtube" style="color:#e52d27;"> </i>
                                                            <i *ngSwitchCase="'periscope'" class="ti-twitter-alt" style="color:#55acee;"></i>
                                                        </ng-container>

                                                    </ng-container>
                                                    <div *ngIf="!row.endPointList">
                                                        <i class="ti-minus big-icons" style="color:#dad9d2;"></i>
                                                    </div>
                                                </mat-cell>
                                            </ng-container>


                                            <ng-container matColumnDef="actions">
                                                <mat-header-cell *matHeaderCellDef class="text-right"> Actions</mat-header-cell>
                                                <mat-cell *matCellDef="let row" class="text-right">

                                                    <div style="font-size: 1.1em">
                                                        <!-- Play Button -->
                                                        <button (click)="playLive(row.streamId)"
                                                                *ngIf="row.status=='broadcasting' && (appSettings.webRTCEnabled == true|| appSettings.hlsMuxingEnabled == true) " class="btn btn-success btn-simple btn-magnify btn-xs big-icons" data-toggle="tooltip"
                                                                i18n-title
                                                                title="Play Stream"
                                                                type="button">
                                                            <span class="btn-label">
                                                                <i class="ti-control-play"></i>
                                                            </span>
                                                            <ng-container i18n="@@tablePlayButton"></ng-container>

                                                        </button>


                                                        <button *ngIf="row.status=='broadcasting' && appSettings.webRTCEnabled == false  && appSettings.hlsMuxingEnabled == false"
                                                                class="btn btn-warning btn-simple btn-magnify btn-xs big-icons" data-toggle="tooltip" i18n-title
                                                                matTooltip="Please enable HLS or WebRTC Live Streaming to watch streams."
                                                                type="button">
                                                              <span class="btn-label">
                                                                <i class="fa fa-info-circle "></i>

                                                                </span>
                                                            <ng-container i18n="@@tablePlayButton"></ng-container>

                                                        </button>


                                                        <!--  Social media stats Button -->
                                                        <button (click)="showLiveComments(row)"
                                                                *ngIf="row.status=='broadcasting' && hasSocialEndpoint(row)" class="btn btn-success btn-simple btn-magnify btn-xs big-icons" data-toggle="tooltip"
                                                                i18n-title
                                                                title="Comments on Social Media"
                                                                type="button">
                                                            <span class="btn-label">
                                                                <i class="ti-stats-up"></i>
                                                            </span>
                                                            <ng-container i18n="@@tablePlayButton"></ng-container>

                                                        </button>
                                                        <!-- Edit Broadcast Button -->
                                                        <button (click)="openBroadcastEditDialog(row)"
                                                                *ngIf="row.status!='broadcasting'&& row.type=='liveStream'" class="btn btn-simple btn-magnify btn-info btn-xs big-icons"
                                                                data-toggle="tooltip"
                                                                title="Edit"
                                                                type="button"
                                                        >
                                                            <span class="btn-label">
                                                                <i class="ti-pencil"></i>
                                                            </span>
                                                            <ng-container i18n="@@tableEditButton"></ng-container>

                                                        </button>


                                                        <button (click)="openSettingsDialog(row)"
                                                                *ngIf="row.type=='ipCamera'"
                                                                class="btn btn-simple btn-magnify btn-info btn-xs big-icons"
                                                                data-toggle="tooltip" i18n-title title="Settings"
                                                                type="button" >
                                                            <span class="btn-label" style="float: right;">
                                                                <i class="ti-settings"></i>
                                                            </span>

                                                            <ng-container i18n="@@tableSettings"></ng-container>
                                                        </button>

                                                        <button (click)="openStreamSourceSettingsDialog(row)"
                                                                *ngIf="row.type=='streamSource'"
                                                                class="btn btn-simple btn-magnify btn-info btn-xs big-icons"
                                                                data-toggle="tooltip" i18n-title title="Settings"
                                                                type="button" >
                                                            <span class="btn-label" style="float: right;">
                                                                <i class="ti-settings"></i>
                                                            </span>

                                                            <ng-container i18n="@@tableSettings"></ng-container>
                                                        </button>



                                                        <button (click)="copyLiveEmbedCode(row.streamId)"
                                                                class="btn btn-simple btn-magnify btn-info btn-xs big-icons" data-toggle="tooltip"
                                                                i18n-title
                                                                title="Copy Live Embed Code to Clipboard"
                                                                type="button"
                                                        >
                                                            <span class="btn-label">
                                                                <i class="ti-share"></i>
                                                            </span>
                                                            <ng-container i18n="@@tableEmbedCode"></ng-container>
                                                        </button>

                                                        <button (click)="copyPublishUrl(row.streamId)"
                                                                *ngIf="row.status!='broadcasting'"
                                                                [title]="'Copy Publish URL to Clipboard : ' + getRtmpUrl(row.streamId)"
                                                                class="btn btn-simple btn-magnify btn-info btn-xs big-icons"
                                                                data-toggle="tooltip"
                                                                id="copyPublishUrlButton"
                                                                type="button"
                                                        >
                                                            <span class="btn-label">
                                                                <i class="ti-clipboard"></i>
                                                            </span>
                                                            <ng-container i18n="@@copyPublishUrl"></ng-container>
                                                        </button>
                                                        <button (click)="deleteLiveBroadcast(row.streamId)"
                                                                class="btn btn-simple btn-magnify btn-danger btn-xs big-icons"
                                                                data-toggle="tooltip" i18n-title
                                                                title="Delete" type="button" >
                                                            <span class="btn-label">
                                                                <i class="ti-close"></i>
                                                            </span>
                                                            <ng-container i18n="@@tableDeleteButton"></ng-container>
                                                        </button>


                                                        <button (click)="showDetectedObject(row.streamId)"
                                                                *ngIf="appSettings.objectDetectionEnabled==true"
                                                                class="btn btn-simple btn-magnify btn-danger btn-xs "
                                                                data-toggle="tooltip" i18n-title
                                                                style="font-size: 1.1em" title="Object Detected" type="button">
                                                            <span class="btn-label">
                                                                <i class="ti-target"></i>
                                                            </span>
                                                        </button>



                                                    </div>
                                                </mat-cell>

                                            </ng-container>

                                            <mat-header-row *matHeaderRowDef="displayedColumnsStreams"></mat-header-row>
                                            <mat-row *matRowDef="let row; columns: displayedColumnsStreams;">
                                            </mat-row>
                                        </mat-table>

                                        <mat-paginator
                                                (page)="onListPaginateChange($event)"
                                                [length]="listLength"
                                                [pageSizeOptions]="pageSizeOptions"
                                                [pageSize]="pageSize"
                                        >
                                        </mat-paginator>
                                    </div>

                                </div>


                                <div class="main">


                                    <div *ngIf="broadcastTableData.dataRows.length>0 && isGridView" class="cbp-vm-switcher cbp-vm-view-list"
                                         id="cbp-vm">

                                        <ul>
                                            <div>

                                                <div *ngFor="let row of broadcastGridTableData.dataRows"
                                                     class="card col-md-6 col-lg-6 col-sm-12 col-xs-12">


                                                    <div class="card-content">

                                                        <!--   <div id="{{row.streamId}}"></div>
                                                        src="http://localhost:5080/LiveApp/play.html?name=711790025373335366896087"-->


                                                        <div class="embed-container">


                                                            <iframe allowfullscreen="true"
                                                                    id="{{row.streamId}}"></iframe>


                                                        </div>
                                                        <div *ngIf="row.type=='ipCamera' && row.status=='broadcasting'&&isMobileMenu()" class="ptz-buttons">


                                                            <span (click)="moveUp(row)" class="ti-arrow-circle-up"
                                                                  style="top: 8px; left: 40px; position: absolute"></span>

                                                            <span (click)="moveRight(row)" class="ti-arrow-circle-right"
                                                                  style="top: 40px; left: 70px; position: absolute"></span>

                                                            <span (click)="moveLeft(row)" class="ti-arrow-circle-left"
                                                                  style="top: 40px; left: 10px; position: absolute"></span>

                                                            <span (click)="moveDown(row)" class="ti-arrow-circle-down"
                                                                  style="top: 70px; left: 40px; position: absolute"></span>

                                                        </div>
                                                        <div class="conf-buttons">


                                                            <span style="float: left;"> {{row.name}}</span>



                                                            <button (click)="showDetectedObject(row.streamId)"
                                                                    *ngIf="appSettings.objectDetectionEnabled==true"
                                                                    class="btn btn-simple btn-magnify btn-danger btn-xs "
                                                                    data-toggle="tooltip" i18n-title
                                                                    style="float: right;font-size: 1.1em" title="Object Detected" type="button">
                                                                <span class="btn-label">
                                                                    <i class="ti-target"></i>
                                                                </span>
                                                                <ng-container i18n="@@tableObjectDetectButton"></ng-container>
                                                            </button>




                                                            <button (click)="deleteLiveBroadcast(row.streamId)"
                                                                    class="btn btn-simple btn-magnify btn-danger btn-xs "
                                                                    data-toggle="tooltip" i18n-title
                                                                    style="float: right;font-size: 1.2em;" title="Delete"
                                                                    type="button">
                                                                <span class="btn-label">
                                                                    <i class="ti-close"></i>
                                                                </span>
                                                                <ng-container i18n="@@tableDeleteButton"></ng-container>
                                                            </button>


                                                            <button (click)="copyLiveEmbedCode(row.streamId)"
                                                                    class="btn btn-simple btn-magnify btn-info btn-xs " data-toggle="tooltip"
                                                                    i18n-title
                                                                    style="float: right;font-size: 1.2em;"
                                                                    title="Copy Live Embed Code to Clipboard"
                                                                    type="button">
                                                                <span class="btn-label">
                                                                    <i class="ti-share"></i>
                                                                </span>
                                                                <ng-container i18n="@@tableEmbedCode"></ng-container>
                                                            </button>
                                                            <button (click)="copyPublishUrl(row.streamId)" *ngIf="row.status!='broadcasting'" [title]="'Copy Publish URL to Clipboard : ' + getRtmpUrl(row.streamId)" class="btn btn-simple btn-magnify btn-info btn-xs "
                                                                    data-toggle="tooltip"
                                                                    id="copyPublishUrlButton"
                                                                    style="float: right;font-size: 1.2em;"
                                                                    type="button">
                                                                <span class="btn-label">
                                                                    <i class="ti-clipboard"></i>
                                                                </span>
                                                                <ng-container i18n="@@copyPublishUrl"></ng-container>
                                                            </button>

                                                            <button (click)="openBroadcastEditDialog(row)"
                                                                    *ngIf="row.status!='broadcasting'&& row.type=='liveStream'" class="btn btn-simple btn-magnify btn-info btn-xs "
                                                                    data-toggle="tooltip"
                                                                    style="float: right;font-size: 1.2em;"
                                                                    title="Edit"
                                                                    type="button">
                                                                <span class="btn-label">
                                                                    <i class="ti-pencil"></i>
                                                                </span>
                                                                <ng-container i18n="@@tableEditButton"></ng-container>

                                                            </button>


                                                            <button (click)="openSettingsDialog(row)"
                                                                    *ngIf="row.type=='ipCamera'"
                                                                    class="btn btn-simple btn-magnify btn-info btn-xs "
                                                                    data-toggle="tooltip" i18n-title style="float: right;font-size: 1.2em;"
                                                                    title="Settings" type="button">
                                                            <span class="btn-label" >
                                                                <i class="ti-settings"></i>
                                                            </span>

                                                                <ng-container i18n="@@tableSettings"></ng-container>
                                                            </button>


                                                            <button (click)="openStreamSourceSettingsDialog(row)"
                                                                    *ngIf="row.type=='streamSource'"
                                                                    class="btn btn-simple btn-magnify btn-info btn-xs "
                                                                    data-toggle="tooltip" i18n-title style="float: right;font-size: 1.2em;"
                                                                    title="Settings" type="button">
                                                            <span class="btn-label" >
                                                                <i class="ti-settings"></i>
                                                            </span>

                                                                <ng-container i18n="@@tableSettings"></ng-container>
                                                            </button>

                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </ul>
                                        <div>
                                            <mat-paginator (page)="onGridPaginateChange($event)"
                                                           [length]="listLength"
                                                           [pageSizeOptions]="[4, 10, 25]">


                                            </mat-paginator>
                                        </div>
                                    </div>

                                    <p *ngIf="broadcastTableData.dataRows.length == 0" i18n="no live stream info | text messages appears when no live streams@@noLiveStreamExistsMessage">
                                        There is no stream at this time.
                                    </p>


                                </div>
                                <!-- /main -->
                            </div> </div>

                    </div>





                    <div class="tab-pane" id="vod">

                        <div class="card">
                            <div class="card-content">

                                <div class=" text-right">

                                    <div>
                                        <button (click)="openVodUploadDialog()" class="btn btn-fill btn-success"
                                                data-toggle="dropdown" role="button">Upload VoD
                                        </button>

                                    </div>

                                </div>

                                <div *ngIf=" vodTableData.dataRows.length>0" id="vodTable"
                                     style="text-align: left">

                                    <br>
                                    <div class="mat-container mat-elevation-z0">

                                        <mat-table [dataSource]="dataSourceVod">


                                            <ng-container matColumnDef="name">
                                                <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>

                                                <mat-cell *matCellDef="let row">

                                                    <ng-container [ngSwitch]="row.type">
                                                        <i *ngSwitchCase="'streamVod'"> {{row.streamName}}</i>
                                                        <i *ngSwitchCase="'uploadedVod'">{{row.vodName}} </i>
                                                        <i *ngSwitchCase="'userVod'">{{row.vodName}}</i>
                                                    </ng-container>


                                                </mat-cell>

                                            </ng-container>

                                            <ng-container matColumnDef="type">
                                                <mat-header-cell *matHeaderCellDef> Type</mat-header-cell>

                                                <mat-cell *matCellDef="let row">
                                                    {{row.type}}

                                                </mat-cell>
                                            </ng-container>

                                            <ng-container matColumnDef="date">
                                                <mat-header-cell *matHeaderCellDef> Date </mat-header-cell>

                                                <mat-cell *matCellDef="let row">
                                                    {{convertJavaTime(row.creationDate)}}

                                                </mat-cell>
                                            </ng-container>

                                            <ng-container matColumnDef="actions">
                                                <mat-header-cell *matHeaderCellDef> Actions</mat-header-cell>

                                                <mat-cell *matCellDef="let row">
                                                    <button (click)="playVoD(row.vodName ,row.type,row.vodId, row.streamId)"
                                                            class="btn btn-success btn-simple btn-magnify"
                                                            type="button">
                                                        <span class="btn-label">
                                                            <i class="ti-control-play"></i>
                                                        </span>
                                                        <ng-container i18n="@@tablePlayButton">Play</ng-container>
                                                    </button>

                                                    <button (click)="copyVoDEmbedCode(row.vodName, row.type, row.vodId)"
                                                            class="btn btn-simple btn-magnify btn-info btn-xs " data-toggle="tooltip"
                                                            i18n-title
                                                            style="font-size: 1.1em"
                                                            title="Copy Live Embed Code to Clipboard"
                                                            type="button">
                                                            <span class="btn-label">
                                                                <i class="ti-share"></i>
                                                            </span>
                                                        <ng-container i18n="@@tableEmbedCode">Embed Code</ng-container>
                                                    </button>

                                                    <button (click)="deleteVoD(row.vodName, row.vodId, row.type)" class="btn btn-simple btn-magnify btn-danger" type="button">
                                                        <span class="btn-label">
                                                            <i class="ti-close"></i>
                                                        </span>
                                                        <ng-container i18n="@@tableDeleteButton">Delete</ng-container>
                                                    </button>

                                                </mat-cell>
                                            </ng-container>

                                            <mat-header-row *matHeaderRowDef="displayedColumnsVod"></mat-header-row>
                                            <mat-row *matRowDef="let row; columns: displayedColumnsVod;">
                                            </mat-row>
                                        </mat-table>

                                        <mat-paginator (page)="onPaginateChange($event)"
                                                       [length]="vodLength"
                                                       [pageSizeOptions]="pageSizeOptions"
                                                       [pageSize]="pageSize"
                                        >
                                        </mat-paginator>
                                    </div>

                                </div>
                                <p *ngIf="vodTableData.dataRows.length == 0" i18n="no vod stream info | text messages appears when no vod streams@@noVoDStreamExistsMessage">
                                    There is no VoD stream in this app.
                                </p>
                            </div>
                        </div>  </div>



                    <div *ngIf="appSettings" class="tab-pane" id="settings">
                        <form #f="ngForm" (ngSubmit)="changeSettings(f.valid)" class="form-horizontal" method="post">
                            <div class="row">

                                <div class="col-sm-12 col-md-6">


                                    <div *ngIf="0>=appSettings.encoderSettings.length" class="card">


                                        <div class="card-header">
                                            <h4 class="card-title text-left">
                                                Adaptive Streaming
                                            </h4>
                                        </div>

                                        <div class="card-content">

                                            <div *ngIf=isEnterpriseEdition class="form-group">

                                                <div class="col-sm-12 col-md-12 text-left">

                                                    <div class="col-sm-12 col-md-12 text-left"
                                                         style="margin-top: 10px; margin-bottom: 20px;">
                                                        <label class="text-left">Bitrate at the input redirected to output as it is.</label>
                                                    </div>

                                                    <div class="text-left col-sm-12 col-md-12">
                                                        <button (click)="addNewStream()" class="btn btn-default" i18n="@@addNewStream"  type="button">
                                                            Add New Stream
                                                        </button>
                                                    </div>
                                                </div>

                                            </div>

                                            <div *ngIf=!isEnterpriseEdition class="form-group text-center">
                                                <p i18n="not Enterprise@@notEnterpriseEditionMessage">
                                                    These features are enabled in
                                                    <a href="https://antmedia.io">Ant Media Server Enterprise
                                                        Edition.</a>
                                                </p>
                                            </div>
                                        </div>

                                    </div>


                                    <div *ngIf="0<appSettings.encoderSettings.length" class="card">


                                        <div class="card-header">
                                            <h4 class="card-title text-left">
                                                Adaptive Streaming
                                            </h4>
                                        </div>

                                        <div class="card-content">

                                            <div *ngIf=isEnterpriseEdition class="form-group">

                                                <div class="col-sm-12 col-md-10 text-left">

                                                    <div class="col-sm-12 col-md-12 text-left"
                                                         style="padding-left: 0px;margin-top: 10px;">

                                                        <div class="col-sm-12 col-md-4 text-left">
                                                            <label class="control-label">WebRTC Frame Rate</label>
                                                        </div>


                                                        <div class="col-sm-12 col-md-4 text-left">
                                                            <input #webRTCFrameRate="ngModel"
                                                                   [(ngModel)]="appSettings.webRTCFrameRate"
                                                                   [name]="webRTCFrameRate" class="form-control"
                                                                   maxlength="30" minlength="5" required type="number"
                                                                   value="20">
                                                        </div>

                                                    </div>

                                                    <div class="col-sm-12 col-md-12 text-left"
                                                         style="margin-top: 20px;">
                                                        <label class="text-left">Bitrate at the input redirected to output with the following bitrates</label>
                                                    </div>




                                                </div>
                                            </div>




                                            <div *ngIf=isEnterpriseEdition class="form-group">


                                                <div class="col-sm-12 col-md-12">


                                                    <div class="col-sm-4 text-left">
                                                        <span class="help-block" i18n="@@ResolutionHeight">Resolution</span>
                                                    </div>
                                                    <div class="col-sm-4 text-left">
                                                        <span class="help-block" i18n="@@ResolutionHeight">Bitrate(Kbps)</span>
                                                    </div>


                                                    <ng-container *ngIf="appSettings.encoderSettings">
                                                        <div *ngFor="let encoderSetting of appSettings.encoderSettings; let i = index" class="row" style="margin-bottom: 20px;">
                                                            <div class="col-sm-12 col-md-12 text-left">
                                                                <div class="col-sm-4 text-left">


                                                                    <!--
                                                                    <div class="dropdown">
                                                                        <a href="#" class="btn dropdown-toggle" data-toggle="dropdown">
                                                                            <label for="addDateTimeToMp4FileName"    [(ngModel)]="encoderSetting.videoBitrate" i18n="@@addDateTimeToMP4Recordings">
                                                                                Choose
                                                                            </label>


                                                                            <b class="caret"></b>
                                                                        </a>
                                                                        <ul class="dropdown-menu">
                                                                            <li><a href="#paper">1080p</a></li>
                                                                            <li><a href="#paper">720p</a></li>
                                                                            <li><a href="#paper">480p</a></li>
                                                                            <li><a href="#paper">360p</a></li>
                                                                            <li><a href="#paper">144p</a></li>
                                                                        </ul>
                                                                    </div>
                                                                     <input type="number" [name]="'resolutionHeight'+i" class="form-control" [(ngModel)]="encoderSetting.height">
                                                                    -->


                                                                    <select #resolutionList
                                                                            class="dropdown-toggle form-control  selectpicker">
                                                                        <option value="1080">1080p</option>
                                                                        <option value="720">720p</option>
                                                                        <option value="480">480p</option>
                                                                        <option value="360">360p</option>
                                                                        <option value="240">240p</option>

                                                                    </select>



                                                                </div>
                                                                <div class="col-sm-4 text-left">

                                                                    <select *ngIf="resolutionList.value == '1080'"
                                                                            class="dropdown-toggle form-control  selectpicker">
                                                                        <option value="6000">High (6.000)</option>
                                                                        <option value="4000">Medium (4.000)</option>
                                                                        <option value="3000">Low (3.000)</option>

                                                                    </select>

                                                                    <select *ngIf="resolutionList.value == '720'"
                                                                            class="dropdown-toggle form-control  selectpicker">
                                                                        <option value="1080">High (4.000)</option>
                                                                        <option value="720">Medium (2.500)</option>
                                                                        <option value="480p">Low (1.200)</option>

                                                                    </select>

                                                                    <select *ngIf="resolutionList.value == '480'"
                                                                            class="dropdown-toggle form-control  selectpicker">
                                                                        <option value="1080">High (2.000)</option>
                                                                        <option value="720">Medium (1.200)</option>
                                                                        <option value="480p">Low (600)</option>

                                                                    </select>


                                                                    <select *ngIf="resolutionList.value == '360'"
                                                                            class="dropdown-toggle form-control  selectpicker">
                                                                        <option value="1080">High (1.000)</option>
                                                                        <option value="720">Medium (700)</option>
                                                                        <option value="480p">Low (400)</option>

                                                                    </select>

                                                                    <select *ngIf="resolutionList.value == '240'"
                                                                            class="dropdown-toggle form-control  selectpicker">
                                                                        <option value="1080">High (700)</option>
                                                                        <option value="720">Medium (500)</option>
                                                                        <option value="480p">Low (300)</option>

                                                                    </select>


                                                                    <!--

                                                                    <input type="number" [name]="'videobitrate'+i" class="form-control" [(ngModel)]="encoderSetting.videoBitrate">
                                                                    <div class="dropdown">
                                                                        <a href="#" class="btn dropdown-toggle" data-toggle="dropdown">
                                                                            <label for="addDateTimeToMp4FileName"    [(ngModel)]="encoderSetting.videoBitrate" i18n="@@addDateTimeToMP4Recordings">
                                                                     1080p
                                                                            </label>


                                                                            <b class="caret"></b>
                                                                        </a>
                                                                        <ul class="dropdown-menu">
                                                                            <li><a href="#paper">1080p</a></li>
                                                                            <li><a href="#paper">720p</a></li>
                                                                            <li><a href="#paper">480p</a></li>
                                                                            <li><a href="#paper">360p</a></li>
                                                                            <li><a href="#paper">144p</a></li>
                                                                        </ul>
                                                                    </div>
                                                                    -->

                                                                </div>

                                                                <!--     <div class="col-sm-3 text-left">
                                                                         <input type="number" [name]="'audiobitrate'+i" class="form-control" [(ngModel)]="encoderSetting.audioBitrate">


                                                                        <div class="dropdown">
                                                                              <a href="#" class="btn dropdown-toggle" data-toggle="dropdown">
                                                                                  <label for="addDateTimeToMp4FileName"    [(ngModel)]="encoderSetting.videoBitrate" i18n="@@addDateTimeToMP4Recordings">
                                                                                      Choose
                                                                                  </label>


                                                                                  <b class="caret"></b>
                                                                              </a>
                                                                              <ul class="dropdown-menu">
                                                                                  <li><a href="#paper">1080p</a></li>
                                                                                  <li><a href="#paper">720p</a></li>
                                                                                  <li><a href="#paper">480p</a></li>
                                                                                  <li><a href="#paper">360p</a></li>
                                                                                  <li><a href="#paper">144p</a></li>
                                                                              </ul>
                                                                          </div>
                                                                          -->



                                                                <div class="col-sm-1 text-left">
                                                                    <button (click)="deleteStream(i)" class="btn btn-icon btn-simple btn-danger btn-minus" type="button">
                                                                        <i class="ti-close"></i>
                                                                    </button>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    <div class="col-sm-12 text-left col-md-12" ><button (click)="addNewStream()" class="btn btn-default" i18n="@@addNewStream" type="button">
                                                        Add New Stream
                                                    </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf=!isEnterpriseEdition class="form-group text-center">
                                                <p i18n="not Enterprise@@notEnterpriseEditionMessage">
                                                    These features are enabled in
                                                    <a href="https://antmedia.io">Ant Media Server Enterprise Edition.</a>
                                                </p>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="card">

                                        <div class="card-header">
                                            <h4 class="card-title text-left">
                                                HLS Streaming
                                            </h4>
                                        </div>

                                        <div class="card-content">

                                            <div class="text-left">

                                                <div class="form-group">
                                                    <div class="col-sm-12 col-md-12 text-left">
                                                        <div class="checkbox" >

                                                            <label for="hlsMuxingEnabled" i18n="@@enableHLSLiveStreaming">
                                                                Create HLS Streaming
                                                            </label>
                                                            <input [(ngModel)]="appSettings.hlsMuxingEnabled"
                                                                   id="hlsMuxingEnabled" name="hlsMuxingEnabled"
                                                                   type="checkbox">
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <div class="col-sm-12 text-left col-md-12">


                                                        <label class="col-sm-12 text-left col-md-3 mobile-text-left control-label"
                                                               i18n="@@HLSSegmentListSize">Segment List Size</label>


                                                        <div class="col-sm-12 text-left col-md-3">
                                                            <small [hidden]="hlsListSize.valid" class="text-danger">
                                                                Segment list size is required
                                                            </small>
                                                            <input #hlsListSize="ngModel" [(ngModel)]="appSettings.hlsListSize" class="form-control" name="hlsListSize" required type="number">
                                                        </div>

                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <div class="col-sm-12 text-left col-md-12">


                                                        <label class="col-sm-12 text-left mobile-text-left col-md-3 control-label"
                                                               i18n="@@HLSSegmentDuration">Segment Duration</label>


                                                        <div class="col-sm-12 text-left col-md-3">
                                                            <small [hidden]="hlsTime.valid" class="text-danger">
                                                                Segment duration is required
                                                            </small>
                                                            <input #hlsTime="ngModel" [(ngModel)]="appSettings.hlsTime" class="form-control" name="hlsTime" required type="number">
                                                        </div>

                                                    </div>
                                                </div>

                                            </div>

                                        </div>

                                    </div>


                                </div>



                                <div class="col-sm-12 col-md-6">


                                    <div class="card">


                                        <div class="card-header">
                                            <h4 class="card-title text-left"  i18n="@@Security">
                                                Security
                                            </h4>
                                        </div>

                                        <div class="card-content">
                                            <div class="form-group">

                                                <div *ngIf=!isEnterpriseEdition class="form-group text-center">
                                                    <p i18n="not Enterprise@@notEnterpriseEditionMessage">
                                                        This feature is enabled in
                                                        <a href="https://antmedia.io">Ant Media Server Enterprise Edition.</a>
                                                    </p>
                                                </div>

                                                <div *ngIf=isEnterpriseEdition
                                                     class="col-xs-10  col-sm-6 col-md-6 text-right ">
                                                    <div class="checkbox">
                                                        <label for="tokenControlEnabled">
                                                            Streaming only with one time token
                                                        </label>
                                                        <input [(ngModel)]="appSettings.tokenControlEnabled" id="tokenControlEnabled" name="tokenControlEnabled" type="checkbox">

                                                    </div>

                                                </div>
                                            </div>

                                            <div class="form-group">

                                                <div *ngIf=!isEnterpriseEdition class="form-group text-center">
                                                    <p i18n="not Enterprise@@notEnterpriseEditionMessage">
                                                        This feature is enabled in
                                                        <a href="https://antmedia.io">Ant Media Server Enterprise Edition.</a>
                                                    </p>
                                                </div>

                                                <div *ngIf=isEnterpriseEdition
                                                     class="col-xs-10 col-sm-6 col-md-6 text-right">

                                                    <div class="checkbox">

                                                        <label for="externalEnabled" i18n="@@externalEnabled">
                                                            Use External Sources
                                                        </label>
                                                        <input id="externalEnabled" name="externalEnabled" type="checkbox" >



                                                    </div>


                                                </div>
                                            </div>


                                            <div class="form-group">

                                                <div class="col-xs-10 col-sm-6 col-md-6 text-right">

                                                    <div class="checkbox">

                                                        <label for="acceptOnlyStreamsInDataStore"
                                                               i18n="@@acceptOnlyStreamsInDataStore">
                                                            Use Ip Filtering for RESTful API
                                                        </label>
                                                        <input [(ngModel)]="appSettings.acceptOnlyStreamsInDataStore" id="acceptOnlyStreamsInDataStore" name="acceptOnlyStreamsInDataStore" type="checkbox">

                                                    </div>


                                                </div>
                                            </div>

                                        </div>


                                    </div>


                                    <div class="card">

                                        <div class="card-header">
                                            <h4 class="card-title text-left"  i18n="@@Mp4Recording">
                                                MP4 Recording
                                            </h4>
                                        </div>

                                        <div class="card-content">
                                            <div class="form-group">

                                                <div class="col-sm-12 col-md-12 text-left">


                                                    <div class="form-group">
                                                        <div class="col-xs-10 col-sm-6 col-md-6 text-right">
                                                            <div class="checkbox">

                                                                <label for="mp4MuxingEnabled"
                                                                       i18n="@@enableMP4Recording">
                                                                    Record Live Streams as MP4
                                                                </label>
                                                                <input [(ngModel)]="appSettings.mp4MuxingEnabled" id="mp4MuxingEnabled" name="mp4MuxingEnabled" type="checkbox">

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <div class="col-xs-10 col-sm-6 col-md-6 text-right">
                                                            <div class="checkbox">
                                                                <label for="addDateTimeToMp4FileName"
                                                                       i18n="@@addDateTimeToMP4Recordings">
                                                                    Add Date-Time to MP4 File names
                                                                </label>
                                                                <input [(ngModel)]="appSettings.addDateTimeToMp4FileName" id="addDateTimeToMp4FileName" name="addDateTimeToMp4FileName" type="checkbox">

                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>

                                    </div>


                                    <div class="card">

                                        <div class="card-header">
                                            <h4 class="card-title text-left" i18n="@@SocialSharing">
                                                Social Streaming
                                            </h4>
                                        </div>

                                        <div class="card-content">
                                            <div class="form-group">

                                                <div class="col-sm-12 col-md-4">


                                                    <div class="form-group">
                                                        <button (click)="getSocialMediaAuthParameters('facebook')"
                                                                class="btn btn-default" i18n="@@authenticate"
                                                                type="button">

                                                            <i class="ti-facebook"></i> Add Facebook
                                                        </button>
                                                    </div>


                                                    <div class="form-group">
                                                        <button (click)="getSocialMediaAuthParameters('youtube')"
                                                                class="btn btn-default " i18n="@@authenticate"
                                                                type="button">

                                                            <i class="ti-youtube"></i> Add Youtube
                                                        </button>
                                                    </div>

                                                    <div class="form-group">
                                                        <button (click)="getSocialMediaAuthParameters('periscope')"
                                                                class="btn btn-default " i18n="@@authenticate"
                                                                type="button">

                                                            <i class="ti-twitter-alt"></i> Add Periscope
                                                        </button>
                                                    </div>


                                                </div>


                                                <div class="col-sm-12  col-md-8">

                                                    <div *ngFor="let endpoint of videoServiceEndpoints; let i = index"
                                                         class="row row-mobile">

                                                        <div class="text-left form-group" style="    display: flex;
    align-items: center;">


                                                            <label>
                                                                <button (click)="revokeSocialMediaAuth(endpoint.id)"
                                                                        class="btn btn-simple btn-danger btn-xs"
                                                                        i18n="@@SocialAuthenticated"
                                                                        style=" -webkit-text-stroke: 2px; text-align:left"
                                                                        type="button">
                                                                    <i class="ti-close"
                                                                       style="vertical-align: initial;"></i>
                                                                </button>
                                                            </label>

                                                            <label style="padding-left: 20px">
                                                                <ng-container [ngSwitch]="endpoint.serviceName">
                                                                    <ng-container *ngSwitchCase="'facebook'">
                                                                        <!--   <i class="ti-facebook" style="color:#3b5998">&nbsp;</i> -->

                                                                        <label class="btn btn-icon btn-fill btn-facebook">
                                                                            <i class="ti-facebook"></i>
                                                                        </label>

                                                                    </ng-container>
                                                                    <ng-container *ngSwitchCase="'youtube'">

                                                                        <label class="btn btn-icon btn-fill btn-youtube">
                                                                            <i class="ti-control-play"></i>
                                                                        </label>


                                                                    </ng-container>
                                                                    <ng-container *ngSwitchCase="'periscope'">
                                                                        <!--  <i class="ti-twitter-alt" style="color:#55acee">&nbsp;</i>-->


                                                                        <label class="btn btn-icon btn-fill btn-twitter">
                                                                            <i class="ti-twitter-alt"></i>
                                                                        </label>

                                                                    </ng-container>
                                                                </ng-container>
                                                            </label>


                                                            <label style=" min-width: 125px; padding-left: 15px">
                                                                <label>  {{endpoint.accountName}}  </label>
                                                            </label>


                                                        </div>


                                                    </div>

                                                    <div class="row">
                                                        <a *ngIf="gettingDeviceParameters"
                                                           class="btn btn-simple col-sm-12">
                                                            <i aria-hidden="true"
                                                               class="fa fa-spinner fa-pulse fa-1x fa-fw"></i>
                                                        </a>
                                                        <a *ngIf="waitingForConfirmation"
                                                           class="btn btn-simple col-sm-12">
                                                            <i aria-hidden="true"
                                                               class="fa fa-spinner fa-pulse fa-1x fa-fw"></i>
                                                            Waiting for confirmation
                                                        </a>
                                                    </div>

                                                </div>

                                            </div>
                                        </div>

                                        <!--
                                        <div class="form-group" style="margin-top:10px">

                                            <div class="row">

                                                <button class="col-sm-2 form-control-static btn btn-default "
                                                        style="margin-right:10px" i18n="@@authenticate" type="button"
                                                        (click)="getSocialMediaAuthParameters('facebook')">

                                                    <i class="ti-facebook"></i> Add Facebook
                                                </button>

                                                <button class="col-sm-2 form-control-static btn btn-default  "
                                                        style="margin-right:10px" i18n="@@authenticate" type="button"
                                                        (click)="getSocialMediaAuthParameters('youtube')">

                                                    <i class="ti-youtube"></i> Add Youtube
                                                </button>

                                                <button class="col-sm-2 form-control-static btn btn-default "
                                                        style="margin-right:10px" i18n="@@authenticate" type="button"
                                                        (click)="getSocialMediaAuthParameters('periscope')">


                                                    <i class="ti-twitter-alt"></i> Add Periscope
                                                </button>
                                            </div>
                                            <div class="row">
                                                <a class="btn btn-simple col-sm-12" *ngIf="gettingDeviceParameters">
                                                    <i class="fa fa-spinner fa-pulse fa-1x fa-fw" aria-hidden="true"></i>
                                                </a>
                                                <a class="btn btn-simple col-sm-12" *ngIf="waitingForConfirmation">
                                                    <i class="fa fa-spinner fa-pulse fa-1x fa-fw" aria-hidden="true"></i>
                                                    Waiting for confirmation
                                                </a>
                                            </div>


                                      </div>

-->


                                    </div>


                                    <!--

                                                                        <div class="col-sm-12 col-md-6">
                                                              <fieldset>
                                                                  <legend class="text-left" i18n="@@Security">Security</legend>
                                                                  <div class="form-group">
                                                                      <label class="col-sm-2 control-label">Stream Publishing</label>
                                                                      <div class="text-left" >
                                                                          <div class="col-sm-2">
                                                                              <div class="radio">
                                                                              <input class="radio" type="radio" name="acceptOnlyStreamsInDataStore" id="acceptOnlyStreamsInDataStore" [value]="false" [(ngModel)]="appSettings.acceptOnlyStreamsInDataStore">
                                                                              <label for="acceptOnlyStreamsInDataStore">
                                                                                  Allow All
                                                                              </label>
                                                                              </div>
                                                                          </div>

                                                                          <div class="col-sm-2">
                                                                              <div class="radio">
                                                                              <input class="radio" type="radio" name="acceptOnlyStreamsInDataStore" id="acceptOnlyStreamsInDataStore2" [value]="true" [(ngModel)]="appSettings.acceptOnlyStreamsInDataStore">
                                                                              <label for="acceptOnlyStreamsInDataStore2">
                                                                                  Allow Only In Database
                                                                              </label>
                                                                              </div>
                                                                          </div>
                                                                      </div>
                                                                  </div>

                                                                  <div class="form-group">
                                                                      <label class="col-sm-2 control-label">
                                                                          One-Time Token <a href="https://antmedia.io/secure-video-streaming/" target="_blank"  matTooltip="Token is required for publishing and playing.
                                                                             You need to create token and provide for these operations. Use 'getToken' rest service for that. Click icon for details."><i class="fa fa-info-circle"></i></a>
                                                                      </label>


                                                                      <div class="form-group text-center" *ngIf=!isEnterpriseEdition>
                                                                          <p i18n="not Enterprise@@notEnterpriseEditionMessage">
                                                                              This feature is enabled in
                                                                              <a href="https://antmedia.io">Ant Media Server Enterprise Edition.</a>
                                                                          </p>
                                                                      </div>

                                                                      <div class="text-left" *ngIf=isEnterpriseEdition>
                                                                          <div class="col-sm-2">
                                                                              <div class="radio">
                                                                              <input type="radio" name="tokenControlEnabled" id="tokenControlEnabled" [value]="false" [(ngModel)]="appSettings.tokenControlEnabled">
                                                                              <label for="tokenControlEnabled">
                                                                                  Disable
                                                                              </label>
                                                                              </div>
                                                                          </div>

                                                                          <div class="col-sm-2">
                                                                              <div class="radio">
                                                                              <input type="radio" name="tokenControlEnabled" id="tokenControlEnabled2" [value]="true" [(ngModel)]="appSettings.tokenControlEnabled">
                                                                              <label for="tokenControlEnabled2">
                                                                                  Enable
                                                                              </label>
                                                                              </div>
                                                                          </div>
                                                                      </div>
                                                                  </div>

                                                              </fieldset>
                                                                  </div>



                                                                 <div class="col-sm-12 col-md-6">
                                                             <fieldset>
                                                                 <legend class="text-left" i18n="@@VoDFolder">Ministra TV Platform</legend>
                                                                 <div class="form-group">
                                                                     <label class="col-sm-2 control-label">Options</label>
                                                                     <div class="text-left">
                                                                         <div class="col-sm-2 form-control-static ">
                                                                         <button class="btn btn-default btn-block"
                                                                                 i18n="@@addNewStream" type="button"
                                                                                 (click)="importLiveStreams2Stalker()">
                                                                             <i *ngIf="importingLiveStreams"
                                                                                class="fa fa-spinner fa-pulse fa-1x fa-fw"
                                                                                aria-hidden="true"></i>Import Live Streams
                                                                         </button>
                                                                         </div>

                                                                         <div class="col-sm-2 form-control-static ">
                                                                         <button class="btn-block btn btn-default"
                                                                                 i18n="@@addNewStream" type="button"
                                                                                 (click)="importVoDStreams2Stalker()">
                                                                             <i *ngIf="importingVoDStreams"
                                                                                class="fa fa-spinner fa-pulse fa-1x fa-fw"
                                                                                aria-hidden="true"></i>Import VoD Streams
                                                                         </button>
                                                                     </div>
                                                                 </div>
                                                                 </div>

                                                             </fieldset>
                                                                 </div>

-->


                                    <div [hidden]="!advancedSetting" class="card">

                                        <div class="card-header">
                                            <h4 class="card-title text-left" i18n="@@Advanced">
                                                Advanced
                                            </h4>
                                        </div>
                                        <div class="card-content">
                                            <div class="form-group">

                                                <div class="col-sm-12 col-md-12 text-left">

                                                    <div class="col-sm-12 col-md-12 text-left">
                                                        <div *ngIf=!isEnterpriseEdition class="form-group text-center">
                                                            <p i18n="not Enterprise@@notEnterpriseEditionMessage">
                                                                Object Detection feature is enabled in
                                                                <a href="https://antmedia.io">Ant Media Server Enterprise Edition.</a>
                                                            </p>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <div class="text-left" *ngIf=isEnterpriseEdition>
                                                            <div class="col-sm-12 col-md-12">
                                                                <div class="checkbox">
                                                                    <label for="objectDetection">
                                                                        Use Object Detection
                                                                    </label>
                                                                    <input [(ngModel)]="appSettings.objectDetectionEnabled"
                                                                           id="objectDetection" name="objectDetection"
                                                                           type="checkbox">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">

                                                        <label class="col-sm-12 text-left mobile-text-left col-md-3 control-label">Vod
                                                            Streaming Folder</label>


                                                        <div class="col-sm-12 col-md-6 text-left">
                                                            <input type="text" name="vodFolderPath"
                                                                   placeholder="Write full path of VoD folder"
                                                                   class="form-control" [(ngModel)]="appSettings.vodFolder"
                                                                   #vodFolderPath="ngModel">
                                                            <small [hidden]="vodFolderPath.valid || (!f.submitted)"
                                                                   class="text-danger">
                                                                Folder path should be at least 4 characters.
                                                            </small>
                                                        </div>
                                                    </div>

                                                </div>

                                            </div>
                                        </div>


                                    </div>


                                </div>


                                <div class="col-sm-12 col-md-12">


                                    <div class="card">
                                        <div class="text-center">

                                            <button class="btn btn-info" i18n="@@saveForm" style="margin: 15px"
                                                    type="submit">Save
                                            </button>
                                            <button (click)="advancedSetting = !advancedSetting" class="btn btn-info"
                                                    i18n="@@saveForm" style="margin: 15px" type="button">Advanced
                                                Setting
                                            </button>


                                        </div>

                                    </div>
                                </div>




                            </div>
                        </form>



                    </div>


                </div>



                <div class="footer">
                    <!--
                <hr />

                <div class="stats">
                       <button class="btn btn-primary btn-simple btn-sm" (click)="updateCPULoad()">
                           <i class="ti-reload"></i>Update now</button>
                </div>
            -->
                </div>
            </div>



        </div>
    </div>



</div>


