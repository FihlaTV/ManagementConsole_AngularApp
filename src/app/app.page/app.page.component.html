<div class="main-content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12 col-sm-12">
                <div class="card">
                    <div class="card-content">
                        <div class="nav-tabs-navigation">
                            <div class="nav-tabs-wrapper">
                                <ul id="tabs" class="nav nav-tabs" data-tabs="tabs">
                                    <li class="active">
                                        <a href="#livestreams" data-toggle="tab" i18n="live stream|Live Streams tab header that lists live stream@@liveStreamTabHeader">Live Streams</a>
                                    </li>
                                    <li>
                                        <a href="#vod" data-toggle="tab" i18n="VoD|Vod tab header that lists vod@@vodTabHeader">VoD</a>
                                    </li>
                                    <!--
                                    <li>
                                        <a href="#logs" data-toggle="tab" i18n="@@logTabHeader">Log</a>
                                    </li>
                                -->
                                    <li>
                                        <a href="#settings" data-toggle="tab" i18n="@@settingsTabHeader">Settings</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div id="my-tab-content" class="tab-content text-center">

                            <div class="tab-pane active" id="livestreams">
                                <!--
                                <div class="text-right">
                                    <button class="btn btn-fill btn-success" i18n="@@newLiveStreamButton" (click)="newLiveStream()">New Live Stream</button>
                                </div>
                                -->

                                <div>

                                    <div class="dropdown text-right" style="float: right">
                                        <button class="btn btn-fill btn-success" i18n="@@newLiveStreamButton" data-toggle="dropdown" role="button">New Live Stream
                                            <span class="caret"></span>
                                        </button>

                                        <ul class="dropdown-menu dropdown-menu-right">

                                            <li>
                                                <a (click)="newLiveStream()" role="button">Live Stream</a>
                                            </li>
                                            <li>
                                                <a (click)="newIPCamera()" role="button">IP Camera</a>
                                            </li>
                                            <li>
                                                <a (click)="newStreamSource()" role="button">Stream Source</a>
                                            </li>

                                        </ul>

                                    </div>

                                    <br>
                                    <br>

                                    <!--
                                    <div class="col-sm-6 col-lg-2 " style="float: right">
                                        <select id="selectBox"  class="selectpicker  " data-style="btn btn-danger btn-block"  title="Filter" data-size="7">
                                            <option  value="liveStream">Live Stream</option>
                                            <option  value="ipCamera">IP Camera</option>

                                            <option  value="displayAll">Display All</option>

                                        </select>
                                    </div>
                                    -->



                                </div>

                                <div class="card" *ngIf="newLiveStreamActive">

                                    <form method="post" #f="ngForm" validate (ngSubmit)="createLiveStream(f.valid)">
                                        <div class="card-header">
                                            <h4 class="card-title text-left" i18n="@@newLiveStreamCardTitle">
                                                New Live Stream
                                            </h4>
                                        </div>
                                        <div class="card-content">
                                            <div class="form-group text-left">
                                                <label i18n="@@newLiveStreamName">Name</label>
                                                <input type="text" required minlength="4" name="broadcastName" i18n-placeholder="@@stream_name_place_holder" placeholder="Stream name"
                                                    class="form-control" [(ngModel)]="liveBroadcast.name" #broadcastName="ngModel">
                                                <small [hidden]="broadcastName.valid || (!f.submitted)" class="text-danger" i18n="@@broadcastNameIsRequired">
                                                    Stream name should be at least 4 characters.
                                                </small>
                                            </div>

                                            <div class="form-group text-left">
                                                <label  class="col-sm-12" style="padding-left:0px" i18n="@@newLiveStreamSocialShare">Share</label>
                                                <ng-container *ngFor="let endpoint of videoServiceEndpoints; let i = index">

                                                    <div class="col-sm-4 text-left checkbox vcenter"style="margin-top:5px">

                                                        <input [id]="endpoint.id" [name]="endpoint.id" type="checkbox" [(ngModel)]="shareEndpoint[i]">
                                                        <label [for]="endpoint.id">
                                                            <ng-container [ngSwitch]="endpoint.serviceName">
                                                                <ng-container *ngSwitchCase="'facebook'">
                                                                    <i class="ti-facebook" style="color:#3b5998">&nbsp;</i>
                                                                </ng-container>
                                                                <ng-container *ngSwitchCase="'youtube'">
                                                                    <i class="ti-youtube" style="color:#e52d27">&nbsp;</i>
                                                                </ng-container>
                                                                <ng-container *ngSwitchCase="'periscope'">
                                                                    <i class="ti-twitter-alt" style="color:#55acee">&nbsp;</i>
                                                                </ng-container>
                                                            </ng-container>
                                                            {{endpoint.accountName}}
                                                        </label>

                                                    </div>
                                                </ng-container>
                                            </div>

                                            <div class="form-group text-center">

                                                <button type="submit" [disabled]='newLiveStreamCreating' class="btn btn-fill btn-success" i18n="@@newLiveStreamCreateButton">
                                                    <i class="fa fa-spinner fa-pulse fa-1x fa-fw" *ngIf="newLiveStreamCreating" aria-hidden="true"></i>Create</button>

                                                <button type="button" class="btn btn-simple" i18n="@@newLiveStreamCancelButton" (click)="cancelNewLiveStream()">Cancel</button>
                                            </div>

                                        </div>

                                    </form>
                                </div>





                                <div class="card" *ngIf="newIPCameraActive">

                                    <form method="post" #f="ngForm" validate (ngSubmit)="addIPCamera(f.valid)">
                                        <div class="card-header">
                                            <h4 class="card-title text-left" i18n="@@newIPCameraTitle">
                                                New IP Camera
                                            </h4>
                                        </div>
                                        <div class="card-content">
                                            <div class="form-group text-left">
                                                <label i18n="@@newLiveStreamName">Name</label>
                                                <input type="text" required minlength="4" name="broadcastName"  placeholder="Camera Name" class="form-control" [(ngModel)]="liveBroadcast.name"
                                                       #broadcastName="ngModel">
                                                <small [hidden]="broadcastName.valid || (!f.submitted)" class="text-danger" i18n="@@broadcastNameIsRequired">
                                                    Camera name should be at least 4 characters.
                                                </small>
                                            </div>

                                            <div class="form-group text-left">
                                                <label i18n="@@newOnvifIPUrl">Onvif IP URL</label>    <button  (click)="startDiscover()" class="btn btn-success btn-simple btn-magnify btn-xs "
                                                                                                               type="button"> discover </button> <i class="fa fa-spinner fa-pulse fa-1x fa-fw" *ngIf="discoveryStarted" aria-hidden="true"></i>
                                                <small  class="text-danger" *ngIf="noCamWarning" >
                                                    No unregistered camera found, write camera URL manually!
                                                </small>
                                                <input type="text"  name="onvifURL" i18n-placeholder="@@onvifUrl_place_holder" placeholder="Onvif Url" class="form-control" [(ngModel)]="liveBroadcast.ipAddr"
                                                       #onvifURL="ngModel">

                                            </div>

                                            <div class="form-group text-left">
                                                <label i18n="@@newLiveStreamName">User Name</label>
                                                <input type="text"  name="username" i18n-placeholder="@@username_place_holder" placeholder="User Name" class="form-control" [(ngModel)]="liveBroadcast.username"
                                                       #username="ngModel">

                                            </div>

                                            <div class="form-group text-left">
                                                <label i18n="@@newLiveStreamName">Password</label>
                                                <input type="text" name="password" i18n-placeholder="@@password_place_holder" placeholder="Password" class="form-control" [(ngModel)]="liveBroadcast.password"
                                                       #password="ngModel">

                                            </div>


                                            <div class="form-group text-center">

                                                <button type="submit" [disabled]='newIPCameraAdding' class="btn btn-fill btn-success" i18n="@@newLiveStreamCreateButton">
                                                    <i class="fa fa-spinner fa-pulse fa-1x fa-fw" *ngIf="newIPCameraAdding" aria-hidden="true"></i>Add</button>

                                                <button type="button" class="btn btn-simple" i18n="@@newLiveStreamCancelButton" (click)="cancelNewIPCamera()">Cancel</button>
                                            </div>

                                        </div>

                                    </form>
                                </div>




                                <div class="card" *ngIf="newStreamSourceActive">

                                    <form method="post" #f="ngForm" validate (ngSubmit)="addStreamSource(f.valid)">
                                        <div class="card-header">
                                            <h4 class="card-title text-left" i18n="@@newLiveStreamCardTitle">
                                                New Stream Source
                                            </h4>
                                        </div>
                                        <div class="card-content">
                                            <div class="form-group text-left">
                                                <label i18n="@@newLiveStreamName">Name</label>
                                                <input type="text" required minlength="4" name="broadcastName" i18n-placeholder="@@stream_name_place_holder" placeholder="Stream name" class="form-control" [(ngModel)]="liveBroadcast.name"
                                                       #broadcastName="ngModel">
                                                <small [hidden]="broadcastName.valid || (!f.submitted)" class="text-danger" i18n="@@broadcastNameIsRequired">
                                                    Stream name should be at least 4 characters.
                                                </small>
                                            </div>


                                            <div class="form-group text-left">
                                                <label i18n="@@newLiveStreamUrl">Stream Url</label>
                                                <input type="text" required minlength="4" name="broadcasturl"
                                                       i18n-placeholder="@@stream_name_place_holder"
                                                       placeholder="Stream Url" class="form-control"
                                                       [(ngModel)]="liveBroadcast.streamUrl"
                                                       #broadcastName="ngModel">

                                            </div>


                                            <div class="form-group text-center">

                                                <button type="submit" [disabled]='newStreamSourceWarn' class="btn btn-fill btn-success" i18n="@@newLiveStreamCreateButton">
                                                    <i class="fa fa-spinner fa-pulse fa-1x fa-fw" *ngIf="newStreamSourceAdding" aria-hidden="true"></i>Create</button>

                                                <button type="button" class="btn btn-simple" i18n="@@newLiveStreamCancelButton" (click)="cancelStreamSource()">Cancel</button>
                                            </div>

                                        </div>

                                    </form>
                                </div>

                                <br>

                                <div style="display: flex; justify-content: flex-end"
                                     *ngIf="broadcastTableData.dataRows.length>0">


                                    <div class="mat-header">

                                        <input (keyup)="applyFilter($event.target.value)" placeholder="Search">

                                    </div>
                                    <div>
                                        <button class="btn" *ngIf="isGridView" (click)="switchToListView()"><i
                                                class="fa fa-bars"></i> List
                                        </button>
                                        <button class="btn" *ngIf="!isGridView" (click)="switchToGridView()"><i
                                                class="fa fa-th-large"></i> Grid
                                        </button>
                                    </div>

                                </div>


                                <div id="broadcastTable" style="text-align: left;"
                                     *ngIf="!isGridView && broadcastTableData.dataRows.length>0">


                                    <div class="mat-container mat-elevation-z1">

                                        <mat-table  [dataSource]="dataSource" matSort>


                                            <ng-container matColumnDef="name" >
                                                <mat-header-cell *matHeaderCellDef mat-sort-header> Stream Name </mat-header-cell>

                                                <mat-cell *matCellDef="let row">

                                                    <p *ngIf="row.type=='liveStream'" ><img style="width: 10%"  src="/assets/img/icons/video-camera.svg">  {{row.name}}</p>
                                                    <p *ngIf="row.type=='ipCamera'" ><img style="width: 10%"  src="/assets/img/icons/cctv.svg">  {{row.name}}</p>
                                                    <p *ngIf="row.type=='streamSource'"><img style="width: 10%"
                                                                                             src="/assets/img/icons/video-camera.svg">
                                                        {{row.name}}</p>

                                                </mat-cell>
                                            </ng-container>


                                            <ng-container matColumnDef="status">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Status </mat-header-cell>
                                                <mat-cell *matCellDef="let row">


                                                    <ng-container [ngSwitch]="row.status" >
                                                        <ng-container *ngSwitchCase="'created'"><i class="fa fa-circle text-muted" >&nbsp;</i>Offline</ng-container>
                                                        <ng-container *ngSwitchCase="'broadcasting'"><i
                                                                class="fa fa-circle text-success">&nbsp;</i>Broadcasting


                                                            <ng-container [ngSwitch]="row.quality">

                                                                <ng-container *ngSwitchCase="'poor'"><i class="ti-pulse"
                                                                                                        style="color:#98000b;font-size: 1.1em"
                                                                                                        data-toggle="tooltip"
                                                                                                        i18n-title
                                                                                                        title="Quality: Poor"> </i>
                                                                </ng-container>
                                                                <ng-container *ngSwitchCase="'average'"><i
                                                                        class="ti-pulse"
                                                                        style="color:#190e98;font-size: 1.1em"
                                                                        data-toggle="tooltip" i18n-title
                                                                        title="Quality: Average"> </i></ng-container>
                                                                <ng-container *ngSwitchCase="'good'"><i class="ti-pulse"
                                                                                                        style="color:#199826;font-size: 1.1em"
                                                                                                        data-toggle="tooltip"
                                                                                                        i18n-title
                                                                                                        title="Quality: Good"> </i>
                                                                </ng-container>

                                                            </ng-container>


                                                        </ng-container>
                                                        <ng-container *ngSwitchCase="'finished'"><i
                                                                class="fa fa-circle text-muted">&nbsp;</i>Offline
                                                        </ng-container>
                                                    </ng-container>

                                                </mat-cell>



                                            </ng-container>


                                            <ng-container matColumnDef="social_media">
                                                <mat-header-cell *matHeaderCellDef> Social Share</mat-header-cell>
                                                <mat-cell *matCellDef="let row">

                                                    <div *ngIf="!row.endPointList">
                                                        <i class="ti-facebook " style="color:#dad9d2;"> </i>
                                                        <i class="ti-youtube " style="color:#dad9d2;"> </i>
                                                        <i class="ti-twitter-alt " style="color:#dad9d2;"></i>

                                                    </div>
                                                    <ng-container *ngFor="let endpoint of row.endPointList" class="text-center">
                                                        <ng-container [ngSwitch]="endpoint.type">
                                                            <i class="ti-facebook " style="color:#3b5998;" *ngSwitchCase="'facebook'"> </i>
                                                            <i class="ti-youtube " style="color:#e52d27;" *ngSwitchCase="'youtube'"> </i>
                                                            <i class="ti-twitter-alt " style="color:#55acee;" *ngSwitchCase="'periscope'"></i>
                                                        </ng-container>

                                                    </ng-container>





                                                </mat-cell>
                                            </ng-container>


                                            <ng-container matColumnDef="actions">
                                                <mat-header-cell *matHeaderCellDef> Actions</mat-header-cell>
                                                <mat-cell *matCellDef="let row" >

                                                    <div style="font-size: 1.1em">
                                                        <button *ngIf="row.status=='broadcasting' "
                                                                data-toggle="tooltip"
                                                                i18n-title title="Play Stream"
                                                                (click)="playLive(row.streamId)"
                                                                class="btn btn-success btn-simple btn-magnify btn-xs "
                                                                type="button" style="font-size: 1.1em">
                                                                                        <span class="btn-label">
                                                                                            <i class="ti-control-play"></i>
                                                                                        </span>
                                                            <ng-container i18n="@@tablePlayButton"></ng-container>

                                                        </button>

                                                        <button *ngIf="row.status!='broadcasting'&& row.type=='liveStream'"
                                                                (click)="openBroadcastEditDialog(row)" title="Edit"
                                                                data-toggle="tooltip"
                                                                class="btn btn-simple btn-magnify btn-info btn-xs "
                                                                type="button" style="font-size: 1.1em">
                                                                            <span class="btn-label">
                                                                                <i class="ti-pencil"></i>
                                                                            </span>
                                                            <ng-container i18n="@@tableEditButton"></ng-container>

                                                        </button>


                                                        <button *ngIf="row.type=='ipCamera'"
                                                                (click)="openSettingsDialog(row)"
                                                                class="btn btn-simple btn-magnify btn-info btn-xs "
                                                                type="button" data-toggle="tooltip" i18n-title
                                                                title="Settings"
                                                                style="font-size: 1.1em">
                                                                        <span class="btn-label" style="float: right;">
                                                                                            <i class="ti-settings"></i>
                                                                                        </span>

                                                            <ng-container i18n="@@tableSettings"></ng-container>
                                                        </button>


                                                        <button (click)="copyLiveEmbedCode(row.streamId)"
                                                                data-toggle="tooltip" i18n-title
                                                                title="Copy Live Embed Code to Clipboard"
                                                                class="btn btn-simple btn-magnify btn-info btn-xs "
                                                                type="button" style="font-size: 1.1em">
                                                                                        <span class="btn-label">
                                                                                            <i class="ti-share"></i>
                                                                                        </span>
                                                            <ng-container i18n="@@tableEmbedCode"></ng-container>
                                                        </button>

                                                        <button *ngIf="row.status!='broadcasting'"
                                                                id="copyPublishUrlButton"
                                                                (click)="copyPublishUrl(row.streamId)"
                                                                data-toggle="tooltip"
                                                                [title]="'Copy Publish URL to Clipboard : ' + getRtmpUrl(row.streamId)"
                                                                class="btn btn-simple btn-magnify btn-info btn-xs "
                                                                type="button" style="font-size: 1.1em">
                                                                                        <span class="btn-label">
                                                                                            <i class="ti-clipboard"></i>
                                                                                        </span>
                                                            <ng-container i18n="@@copyPublishUrl"></ng-container>
                                                        </button>
                                                        <button (click)="deleteLiveBroadcast(row.streamId)"
                                                                class="btn btn-simple btn-magnify btn-danger btn-xs "
                                                                type="button" data-toggle="tooltip" i18n-title
                                                                title="Delete"
                                                                style="font-size: 1.1em">
                                                                                        <span class="btn-label">
                                                                                            <i class="ti-close"></i>
                                                                                        </span>
                                                            <ng-container i18n="@@tableDeleteButton"></ng-container>
                                                        </button>

                                                    </div>


                                                </mat-cell>

                                            </ng-container>




                                            <mat-header-row *matHeaderRowDef="displayedColumnsStreams"></mat-header-row>
                                            <mat-row *matRowDef="let row; columns: displayedColumnsStreams;">




                                            </mat-row>



                                        </mat-table>

                                        <mat-paginator [pageSizeOptions]="[5, 10, 25]"></mat-paginator>




                                    </div>

                                </div>









                                <div class="main" >



                                    <div id="cbp-vm" class="cbp-vm-switcher cbp-vm-view-list" *ngIf="broadcastTableData.dataRows.length>0 && isGridView" >

                                        <!--
                                          <div class="cbp-vm-options">




                                              <a (click)="switchToGridView()" class="cbp-vm-icon cbp-vm-grid  " data-view="cbp-vm-view-grid"></a>
                                              <a (click)="switchToListView()" class="cbp-vm-icon cbp-vm-list cbp-vm-selected " data-view="cbp-vm-view-list"></a>

                                          </div>



                                          <ul *ngIf="!isGridView ">



                                              <li *ngFor="let row of broadcastTableData.dataRows">


                                                  <p class="cbp-vm-image" *ngIf="row.type=='liveStream'&& !isGridView" ><img src="/assets/img/icons/video-camera.svg"></p>
                                                  <p class="cbp-vm-image" *ngIf="row.type=='ipCamera'&& !isGridView" ><img src="/assets/img/icons/cctv.svg"></p>


                                                  <h3 class="cbp-vm-title" >{{row.name}}</h3>



                                                  <div class="cbp-vm-details">




                                                      <ng-container [ngSwitch]="row.status" *ngIf="!isGridView">
                                                          <ng-container *ngSwitchCase="'created'"><i class="fa fa-circle text-muted" >&nbsp;</i>Offline</ng-container>
                                                          <ng-container *ngSwitchCase="'broadcasting'"><i class="fa fa-circle text-success">&nbsp;</i>Broadcasting</ng-container>
                                                          <ng-container *ngSwitchCase="'finished'"><i class="fa fa-circle text-muted" *ngSwitchCase="'finished'">&nbsp;</i>Offline</ng-container>
                                                      </ng-container>



                                                      <button *ngIf="row.status=='broadcasting' && !isGridView"  (click)="playLive(row.streamId)" class="btn btn-success btn-simple btn-magnify btn-xs "
                                                              type="button">
                                                                                          <span class="btn-label">
                                                                                              <i class="ti-control-play"></i>
                                                                                          </span>
                                                          <ng-container i18n="@@tablePlayButton">Play</ng-container>

                                                      </button>


                                                      <button (click)="copyLiveEmbedCode(row.streamId)" data-toggle="tooltip" i18n-title title="Copy to Clipboard" class="btn btn-simple btn-magnify btn-info btn-xs " type="button">
                                                                                          <span class="btn-label">
                                                                                              <i class="ti-clipboard"></i>
                                                                                          </span>
                                                          <ng-container i18n="@@tableEmbedCode">Embed Code</ng-container>
                                                      </button>
                                                      <button *ngIf="row.status!='broadcasting'" id="copyPublishUrlButton" (click)="copyPublishUrl(row.streamId)" data-toggle="tooltip"
                                                              [title]="'Copy to Clipboard ' + getRtmpUrl(row.streamId)" class="btn btn-simple btn-magnify btn-info btn-xs "
                                                              type="button">
                                                                                          <span class="btn-label">
                                                                                              <i class="ti-clipboard"></i>
                                                                                          </span>
                                                          <ng-container i18n="@@copyPublishUrl">Publish URL</ng-container>
                                                      </button>
                                                      <button (click)="deleteLiveBroadcast(row.streamId)" class="btn btn-simple btn-magnify btn-danger btn-xs " type="button">
                                                                                          <span class="btn-label">
                                                                                              <i class="ti-close"></i>
                                                                                          </span>
                                                          <ng-container i18n="@@tableDeleteButton">Delete</ng-container>
                                                      </button>




                                                  </div>


                                              </li>










                                          </ul>



  -->

                                        <ul>
                                            <div  >

                                                <div class="card col-md-6 col-lg-6 col-sm-12 col-xs-12" *ngFor="let row of broadcastTableData.dataRows" >


                                                    <div class="card-content" >

                                                        <!--   <div id="{{row.streamId}}"></div>
                                                        src="http://localhost:5080/LiveApp/play.html?name=711790025373335366896087"-->


                                                        <div class="embed-container">


                                                            <iframe id="{{row.streamId}}"   ></iframe>


                                                        </div>
                                                        <div *ngIf="row.type=='ipCamera' && row.status=='broadcasting'&&isMobileMenu()" class="ptz-buttons">



                                                            <span  (click)="moveUp(row)" class="ti-arrow-circle-up" style="top: 8px; left: 40px; position: absolute"></span>

                                                            <span (click)="moveRight(row)"class="ti-arrow-circle-right" style="top: 40px; left: 70px; position: absolute"></span>

                                                            <span (click)="moveLeft(row)"class="ti-arrow-circle-left" style="top: 40px; left: 10px; position: absolute"></span>

                                                            <span (click)="moveDown(row)"class="ti-arrow-circle-down" style="top: 70px; left: 40px; position: absolute"></span>

                                                        </div>
                                                        <div class="conf-buttons">


                                                            <span style="float: left;"> {{row.name}}</span>

                                                            <button (click)="deleteLiveBroadcast(row.streamId)" class="btn btn-simple btn-magnify btn-danger btn-xs " type="button" data-toggle="tooltip" i18n-title title="Delete" style="float: right;font-size: 1.2em;">
                                                                                        <span class="btn-label">
                                                                                            <i class="ti-close"></i>
                                                                                        </span>
                                                                <ng-container i18n="@@tableDeleteButton"></ng-container>
                                                            </button>


                                                            <button (click)="copyLiveEmbedCode(row.streamId)" data-toggle="tooltip" i18n-title title="Copy Live Embed Code to Clipboard" class="btn btn-simple btn-magnify btn-info btn-xs " type="button" style="float: right;font-size: 1.2em;">
                                                                                        <span class="btn-label">
                                                                                            <i class="ti-share"></i>
                                                                                        </span>
                                                                <ng-container i18n="@@tableEmbedCode"></ng-container>
                                                            </button>
                                                            <button *ngIf="row.status!='broadcasting'" id="copyPublishUrlButton" (click)="copyPublishUrl(row.streamId)" data-toggle="tooltip"
                                                                    [title]="'Copy Publish URL to Clipboard : ' + getRtmpUrl(row.streamId)" class="btn btn-simple btn-magnify btn-info btn-xs "
                                                                    type="button" style="float: right;font-size: 1.2em;">
                                                                                        <span class="btn-label">
                                                                                            <i class="ti-clipboard"></i>
                                                                                        </span>
                                                                <ng-container i18n="@@copyPublishUrl"></ng-container>
                                                            </button>

                                                            <button *ngIf="row.status!='broadcasting'&& row.type=='liveStream'"
                                                                    (click)="openBroadcastEditDialog(row)" title="Edit"
                                                                    data-toggle="tooltip"
                                                                    class="btn btn-simple btn-magnify btn-info btn-xs "
                                                                    type="button"
                                                                    style="float: right;font-size: 1.2em;">
                                                                            <span class="btn-label">
                                                                                <i class="ti-pencil"></i>
                                                                            </span>
                                                                <ng-container i18n="@@tableEditButton"></ng-container>

                                                            </button>

                                                            <button *ngIf="row.type=='ipCamera'"
                                                                    (click)="openSettingsDialog(row)"
                                                                    class="btn btn-simple btn-magnify btn-info btn-xs "
                                                                    type="button" data-toggle="tooltip" i18n-title
                                                                    title="Settings"
                                                                    style="float: right;font-size: 1.2em;">
                                                                        <span class="btn-label" style="float: right;">
                                                                                            <i class="ti-settings"></i>
                                                                                        </span>

                                                                <ng-container></ng-container>
                                                            </button>

                                                        </div>


                                                    </div>

                                                </div>
                                            </div>


                                        </ul>
                                        <div>
                                            <mat-paginator
                                                    [pageSizeOptions]="[4, 10, 25]"
                                                    [length]="gridLength"
                                                    (page)="onGridPaginateChange($event)">


                                            </mat-paginator>
                                        </div>
















                                    </div>

                                    <p *ngIf="broadcastTableData.dataRows.length == 0" i18n="no live stream info | text messages appears when no live streams@@noLiveStreamExistsMessage">
                                        There is no stream at this time.
                                    </p>



                                </div><!-- /main -->









                            </div>





                            <div class="tab-pane container-fluid" id="vod">



                                <div class="container">



                                    <!--

                                            <div id="vod-buttons" [hidden]="showVodButtons">

                                                <div class="col-md-2">

                                                    <div class="form-group">
                                                        <input  type="text" id="keyword" class="form-control " placeholder="Keyword" [(ngModel)]="keyword"/>
                                                    </div>
                                                </div>

                                                <form id="dates">
                                                    <div class="col-md-2">

                                                        <div class="form-group">

                                                            <input id="start" type="text" class="form-control datepicker" placeholder="Start Date" [(ngModel)]="startDate" [ngModelOptions]="{standalone: true}"/>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-2">

                                                        <div class="form-group">
                                                            <input id="end" type="text" class="form-control datepicker" placeholder="End Date"[(ngModel)]="endDate" [ngModelOptions]="{standalone: true}"/>
                                                        </div>
                                                    </div>
                                                </form>

                                                <button style="float: left" (click)="filterVod()"  class="btn btn-danger btn-fill btn-wd">Search</button>
                                                <button style="float: left" (click)="getVoDStreams()"  class="btn btn-danger btn-fill btn-wd">Reset</button>
                                                <br><br>
                                                <small  class="text-danger" style="float: left" *ngIf="searchWarning" >
                                                    End date is before start date!
                                                </small>
                                            </div>

        -->







                                    <!--

                                            <div class="table-responsive " *ngIf="vodTableData.dataRows.length>0">
                                                <table class="table table-striped">
                                                    <thead *ngIf="isMobileMenu()">
                                                    <tr>

                                                        <div class="row">
                                                            <div align="left" i18n="@@streamName" class="col-lg-4 col-sm-12 col-xs-12">
                                                                Stream Name
                                                            </div>

                                                            <div align="left" i18n="@@streamName" class="col-lg-4 col-sm-12 col-xs-12">
                                                                Date
                                                            </div>

                                                            <div i18n="@@tableActionField" class="col-lg-4 col-sm-12 col-xs-12">
                                                                Action</div>
                                                        </div>
                                                    </tr>
                                                    </thead>
                                                    <tbody >
                                                    <tr *ngFor="let row of vodTableData.dataRows">
                                                        <div class="row">
                                                            <div align="left" class="col-lg-4 col-sm-12 col-xs-12">

                                                                {{row.streamName}}  </div>

                                                            <div align="left" class="col-lg-4 col-sm-12 col-xs-12">


                                                                {{convertJavaTime(row.creationDate)}}
                                                            </div>

                                                            <div  class="col-lg-4 col-sm-12 col-xs-12">

                                                                <button (click)="playVoD(row.vodName)" class="btn btn-success btn-simple btn-magnify" type="button">
                                                                <span class="btn-label">
                                                                    <i class="ti-control-play"></i>
                                                                </span>
                                                                    <ng-container i18n="@@tablePlayButton">Play</ng-container>
                                                                </button>
                                                                <button (click)="deleteVoD(row.vodName,row.vodId)" class="btn btn-simple btn-magnify btn-danger" type="button">
                                                                <span class="btn-label">
                                                                    <i class="ti-close"></i>
                                                                </span>
                                                                    <ng-container i18n="@@tableDeleteButton">Delete</ng-container>
                                                                </button>

                                                            </div>
                                                        </div>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                            -->
                                </div>

                                <div class=" text-right">

                                    <div>
                                        <button class="btn btn-fill btn-success" (click)="openVodUploadDialog()"
                                                data-toggle="dropdown" role="button">Upload VoD
                                        </button>


                                        <button class="btn btn-fill btn-success"
                                                *ngIf="userVodTableData.dataRows.length>0 " (click)="showUserVodTable()"
                                                data-toggle="dropdown" role="button">User VoDs
                                        </button>


                                    </div>

                                </div>


                                <div id="vodTable" style="text-align: left"
                                     *ngIf=" vodTableData.dataRows.length>0 && displayVodTable">

                                    <br>
                                    <div class="mat-container mat-elevation-z1">

                                        <mat-table [dataSource]="dataSourceVod" >


                                            <ng-container matColumnDef="name" >
                                                <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>

                                                <mat-cell *matCellDef="let row">

                                                    <ng-container [ngSwitch]="row.type">
                                                        <i *ngSwitchCase="'streamVod'"> {{row.streamName}}</i>
                                                        <i *ngSwitchCase="'uploadedVod'">{{row.vodName}} </i>
                                                        <i *ngSwitchCase="'userVod'">{{row.vodName}}</i>
                                                    </ng-container>

                                                </mat-cell>


                                            </ng-container>

                                            <ng-container matColumnDef="type">
                                                <mat-header-cell *matHeaderCellDef> Type</mat-header-cell>

                                                <mat-cell *matCellDef="let row">
                                                    {{row.streamName}}

                                                </mat-cell>
                                            </ng-container>

                                            <ng-container matColumnDef="date" >
                                                <mat-header-cell *matHeaderCellDef> Date </mat-header-cell>

                                                <mat-cell *matCellDef="let row">
                                                    {{convertJavaTime(row.creationDate)}}

                                                </mat-cell>
                                            </ng-container>

                                            <ng-container matColumnDef="actions" >
                                                <mat-header-cell *matHeaderCellDef > Actions </mat-header-cell>

                                                <mat-cell *matCellDef="let row">


                                                    <button (click)="playVoD(row.vodName)" class="btn btn-success btn-simple btn-magnify" type="button">
                                                        <span class="btn-label">
                                                            <i class="ti-control-play"></i>
                                                        </span>
                                                        <ng-container i18n="@@tablePlayButton">Play</ng-container>
                                                    </button>
                                                    <button (click)="deleteVoD(row.vodName,row.vodId)" class="btn btn-simple btn-magnify btn-danger" type="button">
                                                        <span class="btn-label">
                                                            <i class="ti-close"></i>
                                                        </span>
                                                        <ng-container i18n="@@tableDeleteButton">Delete</ng-container>
                                                    </button>

                                                </mat-cell>
                                            </ng-container>

                                            <mat-header-row *matHeaderRowDef="displayedColumnsVod"></mat-header-row>
                                            <mat-row *matRowDef="let row; columns: displayedColumnsVod;">
                                            </mat-row>
                                        </mat-table>


                                        <mat-paginator [length]="vodLength"
                                                       [pageSize]="pageSize"
                                                       [pageSizeOptions]="pageSizeOptions"
                                                       (page)="onPaginateChange($event)"
                                        >
                                        </mat-paginator>


                                    </div>

                                </div>

                                <!--
                                                                <div id="userVodTable" style="text-align: left"
                                                                     *ngIf="userVodTableData.dataRows.length>0 && displayUserVodTable">

                                    <br>
                                    <div class="mat-container mat-elevation-z1">

                                        <mat-table [dataSource]="dataSourceUserVod">


                                            <ng-container matColumnDef="name">
                                                <mat-header-cell *matHeaderCellDef> Name</mat-header-cell>

                                                <mat-cell *matCellDef="let row">
                                                    {{row.vodName}}

                                                </mat-cell>
                                            </ng-container>

                                            <ng-container matColumnDef="date">
                                                <mat-header-cell *matHeaderCellDef> Date</mat-header-cell>

                                                <mat-cell *matCellDef="let row">
                                                    {{convertJavaTime(row.creationDate)}}

                                                </mat-cell>
                                            </ng-container>

                                            <ng-container matColumnDef="actions">
                                                <mat-header-cell *matHeaderCellDef> Actions</mat-header-cell>

                                                <mat-cell *matCellDef="let row">


                                                                                    <button (click)="playUserVoD(row.vodName)"
                                                                                            class="btn btn-success btn-simple btn-magnify"
                                                                                            type="button">
                                                                                        <span class="btn-label">
                                                                                            <i class="ti-control-play"></i>
                                                                                        </span>
                                                                                        <ng-container i18n="@@tablePlayButton">Play</ng-container>
                                                                                    </button>
                                                                                    <button (click)="deleteVoD(row.vodName,row.vodId)"
                                                                                            class="btn btn-simple btn-magnify btn-danger" type="button">
                                                                                        <span class="btn-label">
                                                                                            <i class="ti-close"></i>
                                                                                        </span>
                                                                                        <ng-container i18n="@@tableDeleteButton">Delete</ng-container>
                                                                                    </button>

                                                </mat-cell>
                                            </ng-container>

                                            <mat-header-row *matHeaderRowDef="displayedColumnsUserVod"></mat-header-row>
                                            <mat-row *matRowDef="let row; columns: displayedColumnsUserVod;">
                                            </mat-row>
                                        </mat-table>


                                                                        <mat-paginator [length]="userVodLength"
                                                                                       [pageSize]="pageSize"
                                                                                       [pageSizeOptions]="pageSizeOptions"
                                                                                       (page)="onUserVodPaginateChange($event)"
                                                                        >
                                                                        </mat-paginator>

                                        <div style="text-align: center">

                                                                            <button class="btn btn-fill btn-success" (click)="showVodTable()"
                                                                                    data-toggle="dropdown" role="button">Close
                                                                            </button>

                                                                            <button class="btn btn-fill btn-success" (click)="showUserVodTable()"
                                                                                    data-toggle="dropdown" role="button">Refresh
                                                                            </button>


                                        </div>
                                        <br>
                                    </div>

                                </div>


                                <p *ngIf="vodTableData.dataRows.length == 0" i18n="no vod stream info | text messages appears when no vod streams@@noVoDStreamExistsMessage">
                                    There is no VoD stream in this app.
                                </p>
                            </div>
                            <div class="tab-pane" id="logs">
                                <p>Here are your messages.</p>
                            </div>





                            <div class="tab-pane" id="settings" *ngIf="appSettings">
                                <form method="post" #f="ngForm" (ngSubmit)="changeSettings(f.valid)" class="form-horizontal">

                                    <fieldset>
                                        <legend class="text-left">Muxing</legend>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">MP4</label>
                                            <div class="col-sm-4 text-left">
                                                <div class="checkbox">
                                                    <input id="mp4MuxingEnabled" name="mp4MuxingEnabled" type="checkbox" [(ngModel)]="appSettings.mp4MuxingEnabled">
                                                    <label for="mp4MuxingEnabled" i18n="@@enableMP4Recording">
                                                        Enable MP4 Recording
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-sm-4 text-left">
                                                <div class="checkbox">
                                                    <input id="addDateTimeToMp4FileName" name="addDateTimeToMp4FileName" type="checkbox" [(ngModel)]="appSettings.addDateTimeToMp4FileName">
                                                    <label for="addDateTimeToMp4FileName" i18n="@@addDateTimeToMP4Recordings">
                                                        Add Datetime to MP4 Filenames
                                                    </label>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">HLS</label>
                                            <div class="col-sm-10 text-left">
                                                <div class="checkbox">
                                                    <input id="hlsMuxingEnabled" name="hlsMuxingEnabled" type="checkbox" [(ngModel)]="appSettings.hlsMuxingEnabled">
                                                    <label for="hlsMuxingEnabled" i18n="@@enableHLSLiveStreaming">
                                                        Enable HLS Live Streaming
                                                    </label>
                                                </div>
                                                <div>
                                                    <small [hidden]="hlsListSize.valid" class="text-danger">
                                                        Segment list size is required
                                                    </small>
                                                    <input type="number" name="hlsListSize" class="form-control" required #hlsListSize="ngModel" [(ngModel)]="appSettings.hlsListSize">
                                                    <span class="help-block" i18n="@@HLSSegmentListSize">Segment List Size</span>

                                                </div>
                                                <div>
                                                    <small [hidden]="hlsTime.valid" class="text-danger">
                                                        Segment duration is required
                                                    </small>
                                                    <input type="number" name="hlsTime" class="form-control" #hlsTime="ngModel" required [(ngModel)]="appSettings.hlsTime">
                                                    <span class="help-block" i18n="@@HLSSegmentDuration">Segment Duration</span>

                                                </div>
                                                <!--
                                                <div>
                                                    <select class="selectpicker" id="hlsPlayListType" name="hlsPlayListType" data-style="btn btn-block" title="Type" data-size="7"
                                                            [(ngModel)]="appSettings.hlsPlayListType">

                                                        <option *ngFor="let type of listTypes" [value]="type.value" [selected]="type.value == appSettings.hlsPlayListType">{{type.name}}</option>
                                                    </select>
                                                    <span class="help-block" i18n="@@HLSListType">List Type</span>

                                                </div>
                                                 -->
                                            </div>
                                        </div>
                                    </fieldset>


                                    <fieldset>
                                        <legend class="text-left" i18n="@@Security">Security</legend>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">Stream Publishing</label>
                                            <div class="col-sm-10 text-left">
                                                <div class="radio col-sm-3">
                                                    <input type="radio" name="acceptOnlyStreamsInDataStore" id="acceptOnlyStreamsInDataStore" [value]="false" [(ngModel)]="appSettings.acceptOnlyStreamsInDataStore">
                                                    <label for="acceptOnlyStreamsInDataStore">
                                                        Allow All
                                                    </label>
                                                </div>

                                                <div class="radio col-sm-3" style="margin-top:13px">
                                                    <input type="radio" name="acceptOnlyStreamsInDataStore" id="acceptOnlyStreamsInDataStore2" [value]="true" [(ngModel)]="appSettings.acceptOnlyStreamsInDataStore">
                                                    <label for="acceptOnlyStreamsInDataStore2">
                                                        Allow Only In Database
                                                    </label>
                                                </div>
                                            </div>
                                        </div>

                                    </fieldset>

                                    <fieldset>
                                        <legend class="text-left">Adaptive Streaming</legend>
                                        <div class="form-group" *ngIf=isEnterpriseEdition>
                                            <label class="col-sm-2 control-label">Streams</label>
                                            <div class="col-sm-10">
                                                <ng-container *ngIf="appSettings.encoderSettings">
                                                    <div class="row" *ngFor="let encoderSetting of appSettings.encoderSettings; let i = index">
                                                        <div class="col-sm-3 text-left">

                                                            <input type="number" [name]="'resolutionHeight'+i" class="form-control" [(ngModel)]="encoderSetting.height">
                                                            <span class="help-block" i18n="@@ResolutionHeight">Video Resolution Height</span>
                                                        </div>
                                                        <div class="col-sm-3 text-left">
                                                            <input type="number" [name]="'videobitrate'+i" class="form-control" [(ngModel)]="encoderSetting.videoBitrate">
                                                            <span class="help-block" i18n="@@VideoBitrate">Video Bitrate(bps)</span>
                                                        </div>
                                                        <div class="col-sm-3 text-left">
                                                            <input type="number" [name]="'audiobitrate'+i" class="form-control" [(ngModel)]="encoderSetting.audioBitrate">
                                                            <span class="help-block" i18n="@@AudioBitrate">Audio Bitrate(bps)</span>
                                                        </div>

                                                        <button type="button" class="col-sm-1 btn btn-icon btn-simple btn-danger btn-minus" (click)="deleteStream(i)">
                                                            <i class="ti-minus"></i>
                                                        </button>
                                                    </div>
                                                </ng-container>
                                                <button class="col-sm-3 form-control-static btn btn-default" i18n="@@addNewStream" type="button" (click)="addNewStream()">
                                                    Add New Stream
                                                </button>
                                            </div>
                                        </div>
                                        <div class="form-group text-center" *ngIf=!isEnterpriseEdition>
                                            <p i18n="not Enterprise@@notEnterpriseEditionMessage">
                                                These features are enabled in
                                                <a href="http://antmedia.io">Ant Media Server Enterprise Edition.</a>
                                            </p>
                                        </div>
                                    </fieldset>

                                    <fieldset>
                                        <legend class="text-left" i18n="@@SocialSharing">Social Network Sharing</legend>
                                        <div class="form-group">

                                            <label class="col-sm-2 control-label">
                                                <i class="ti-facebook" style="color:#3b5998">&nbsp;</i>Facebook:</label>

                                            <div class="col-sm-2 control-label text-info" style="text-align: left" *ngIf="socialMediaAuthStatus.isFacebookAuthenticated">
                                                Linked
                                                <button class=" btn btn-simple btn-danger btn-xs" *ngIf="socialMediaAuthStatus.isFacebookAuthenticated" style="text-align:left"
                                                        i18n="@@YoutubeAuthenticated" type="button" (click)="revokeSocialMediaAuth('facebook')">
                                                    <i class="ti-unlink"></i>Unlink
                                                </button>
                                            </div>
                                            <button class="col-sm-1 form-control-static btn btn-simple btn-success " style="text-align:left" *ngIf="!socialMediaAuthStatus.isFacebookAuthenticated"
                                                    i18n="@@authenticate" type="button" (click)="getSocialMediaAuthParameters('facebook')">
                                                <i class="ti-link"></i>Link
                                            </button>


                                            <a class="btn btn-simple col-sm-1 control-label" style="text-align:left" *ngIf="gettingFacebookParameters">
                                                <i class="fa fa-spinner fa-pulse fa-1x fa-fw" aria-hidden="true"></i>
                                            </a>

                                            <small class="btn btn-simple col-sm-4 control-label" style="text-align:left;font-size:12px;" *ngIf="waitingForFacebookToBeAuthorized"
                                                   i18n="@@waitingForFacebookToBeAuthorized">
                                                <i class="fa fa-spinner fa-pulse fa-1x fa-fw" aria-hidden="true"></i>Waiting Facebook for confirmation. It may take 10-15 seconds after you
                                                enter code</small>


                                            <div class="col-sm-8 form-group" style="margin-bottom:0px;" *ngIf="socialMediaAuthStatus.isFacebookAuthenticated == true && socialMediaAuthStatus.facebookPublishChannel != null">

                                                <label class="col-sm-3 control-label">
                                                    <i class="ti-facebook" style="color:#3b5998">&nbsp;</i> Publish Channel:</label>

                                                <div class="col-sm-9">
                                                    <div class="radio col-sm-4 text-left" style="margin-top:12px">
                                                        <input type="radio" name="facebookPublishTarget" id="radio1" value="myAccount" [checked]="socialMediaAuthStatus.facebookPublishChannel.id == null"
                                                               (click)="setSocialNetworkChannel('facebook', 'profile', 'id')">
                                                        <label for="radio1">
                                                            User Profile
                                                        </label>
                                                    </div>
                                                    <div class="radio col-sm-8 text-left" style="margin-top:12px">
                                                        <input type="radio" name="facebookPublishTarget" id="radio2" value="myPage" [checked]="socialMediaAuthStatus.facebookPublishChannel.id != null"
                                                               (click)="showNetworkChannelList('facebook', 'page')">
                                                        <label for="radio2">
                                                            User's Page
                                                            <i class="fa fa-spinner fa-pulse fa-1x fa-fw" *ngIf="userFBPagesLoading" aria-hidden="true"></i>
                                                            <span *ngIf="socialMediaAuthStatus.facebookPublishChannel.id != null" class=" btn btn-simple btn-info" style="padding:0px 3px 0px 3px">({{socialMediaAuthStatus.facebookPublishChannel.name}})</span>
                                                        </label>

                                                <div class="col-sm-4 control-label text-info" style="text-align: left">
                                                    {{endpoint.accountName}}
                                                    <button class=" btn btn-simple btn-danger btn-xs" style="text-align:left" i18n="@@YoutubeAuthenticated" type="button" (click)="revokeSocialMediaAuth(endpoint.id)">
                                                        <i class="ti-unlink"></i>Remove
                                                    </button>
                                                </div>


                                            </div>

                                        </div>

                                        <div class="form-group" style="margin-top:10px">

                                            <div class="row">
                                                <label class="col-sm-2 control-label">
                                                    Add Account
                                                </label>

                                                <button class="col-sm-2 form-control-static btn btn-fill btn-success" style="margin-right:10px" i18n="@@authenticate" type="button"
                                                    (click)="getSocialMediaAuthParameters('facebook')">
                                                    <i class="ti-facebook"></i> Add Facebook
                                                </button>
                                                <button class="col-sm-2 form-control-static btn btn-fill btn-success " style="margin-right:10px" i18n="@@authenticate" type="button"
                                                    (click)="getSocialMediaAuthParameters('youtube')">
                                                    <i class="ti-youtube"></i> Add Youtube
                                                </button>
                                                <button class="col-sm-2 form-control-static btn btn-fill btn-success " style="margin-right:10px" i18n="@@authenticate" type="button"
                                                    (click)="getSocialMediaAuthParameters('periscope')">
                                                    <i class="ti-twitter-alt"></i> Add Periscope
                                                </button>
                                            </div>
                                            <div class="row">
                                                <a class="btn btn-simple col-sm-12" *ngIf="gettingDeviceParameters">
                                                    <i class="fa fa-spinner fa-pulse fa-1x fa-fw" aria-hidden="true"></i>
                                                </a>
                                                <a class="btn btn-simple col-sm-12" *ngIf="waitingForConfirmation">
                                                    <i class="fa fa-spinner fa-pulse fa-1x fa-fw" aria-hidden="true"></i>
                                                    Waiting for confirmation
                                                </a>
                                            </div>

                                        </div>

                                    </fieldset>


                                    <fieldset>
                                        <div class="form-group text-center">
                                            <button type="submit" class="btn btn-fill btn-info" i18n="@@saveForm">Save</button>
                                        </div>
                                    </fieldset>
                                </form>



                            </div>
                        </div>






































                        <div class="footer">
                            <!--
                        <hr />

                        <div class="stats">
                               <button class="btn btn-primary btn-simple btn-sm" (click)="updateCPULoad()">
                                   <i class="ti-reload"></i>Update now</button>
                        </div>
                    -->
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>



</div>





