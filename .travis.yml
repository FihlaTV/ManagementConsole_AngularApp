language: node_js
node_js: "8.10.0"
sudo: required
cache:
  directories:
  - node_modules/

before_install:
  - npm install -g @angular/cli@6.0.5

install:
  - npm install
  
script:
  - ng build --prod

deploy:
- provider: script
  skip_cleanup: true
  script: >-
      curl -s -X POST -H "Content-Type: application/json" -H "Accept: application/json" -H "Travis-API-Version: 3" -H "Authorization: token $token" https://api.travis-ci.com/repo/ant-media%2FManagementConsole_AngularApp/requests
  on:
    tags: false
    all_branches: true